2005-02-18

	* src/compose.c: compose_join_next_line(): don't use
	  gtk_text_buffer_backspace() which is gtk-2.6 only API.

2005-02-17

	* src/compose.c: implemented new line-wrapping routine. Enables full
	  i18n support and proper line-breaking.
	* src/utils.[ch]: get_uri_len(): returns URI length.

2005-02-16

	* src/procmime.c: procmime_get_tmp_file_name(): convert filename
	  to filesystem encoding.

2005-02-14

	* src/intl.h: removed.

2005-02-10

	* src/compose.c: compose_write_file(): force transfer encoding to
	  protect trailing spaces for PGP signing (fixes incompatibility
	  between gnupg 1.2 and 1.4) (thanks to Thorsten Maerz).

2005-02-10

	* src/compose.c
	  src/sourcewindow.c: automatically show horizontal scroll bar.

2005-02-09

	* version 1.9.2

2005-02-09

	* src/textview.c: implemented better hypertext processing (pointing
	  a link shows its URI and single-clicking it follows the link).

2005-02-08

	* src/codeconv.[ch]
	  conv_filename_from_utf8()
	  conv_filename_to_utf8(): new. They always returns non-NULL strings.
	* src/filesel.c
	  src/summaryview.c: fixed non-UTF8 filename handling of the file
	  selection dialog (thanks to Sergey Pinaev).
	* src/compose.c: compose_attach_cb(): fixed attaching of files with
	  non-UTF8 names (thanks to Sergey Pinaev).

2005-02-08

	* src/prefs_filter.c: use stock buttons.

2005-02-08

	* src/procmime.[ch]
	  src/textview.c
	  src/prefs_common.c: implemented inline image display.

2005-02-07

	* src/gtkutils.c: gtkut_window_popup()
	  src/about.c: about_show(): use gtk_window_present() to popup
	  window.

2005-02-07

	* src/*.c: replaced intl.h with glib/gi18n.h (thanks to Yoichi Imai).
	* configure.in
	  Makefile.am
	  po/Makefile.in.in: use AM_GLIB_GNU_GETTEXT. Removed intl/.

2005-02-04

	* src/action.c: execute_actions(): don't include header part in
	  message text.

2005-02-04

	* src/textview.c
	  src/gtkutils.[ch]: reimplemented message text search.

2005-02-04

	* src/gtkutils.[ch]: gtkut_widget_set_small_font_size(): new.
	* src/prefs_account.c
	  src/prefs_common.c: made the font size of supplementary
	  explanations smaller, and enabled line wrap.

2005-02-03

	* version 1.9.1

2005-02-03

	* src/compose.c: compose_create(): use normal API for setting font.

2005-02-02

	* src/main.c: parse_cmd_opt(): convert help message to locale
	  encoding.

2005-02-02

	* src/compose.c:
	  GET_CHAR(): speed up by using gtk_text_iter_get_char().
	  get_indent_length(): use GtkTextIter for the loop.

2005-02-02

	* src/compose.c:
	  text_inserted(): revalidate iterator so as not to invalidate it
	  after gtk_text_buffer_insert() while enabling auto wrapping.
	  Do paste-as-quotation directly inside compose_paste_as_quote_cb().

2005-02-01

	* version 1.9.0

2005-01-31

	* src/codeconv.c: conv_utf8todisp(): replace every 8bit character
	  if the source string is not a valid UTF-8.

2005-01-31

	* src/defs.h: use original ".sylpheed_cache" for CACHE_FILE.
	  changed CACHE_VERSION to 0x20.

2005-01-31

	* src/rfc2015.c: sig_status_full(): convert string returned by
	  strftime() (which is locale encoding) to UTF-8.

2005-01-31

	* configure.in
	  src/textview.c
	  src/passphrase.[ch]
	  src/mimeview.c
	  src/main.c
	  src/select-keys.[ch]
	  src/rfc2015.[ch]
	  src/sigstatus.[ch]: ported to gpgme-1.0 (thanks to Toshio Kuratomi).

2005-01-28

	* src/template.c: template_write_config(): fixed a memory leak.

2005-01-28

	* src/compose.c: removed redundant code for Ctrl-Enter handling
	  (not required for GTK2).

2005-01-27

	* src/prefs_actions.c
	  src/prefs_template.c
	  src/summary_search.c
	  src/message_search.c
	  src/folderview.c
	  src/prefs_customheader.c
	  src/prefs_filter.c: use GTK stock button for alertpanel.

2005-01-27

	* src/codeconv.c: conv_utf8toeuc(), conv_utf8tojis(): added to
	  prevent character corruption on conversion.

2005-01-26

	* src/stock_pixmap.[ch]
	  src/pixmaps/stock_add_16.xpm
	  src/pixmaps/stock_remove_16.xpm: removed two pixmaps.
	* src/prefs_filter_edit.c: use GTK stock icon for add and remove
	  button.

2005-01-26

	* src/alertpanel.c: use smaller size for title font.

2005-01-26

	* src/codeconv.[ch]: made encoding-specific functions static, and
	  removed redundant code.

2005-01-26

	* src/procmime.c:
	  procmime_scan_content_type()
	  procmime_scan_content_disposition(): removed raw ISO-2022-JP to
	  EUC-JP conversion.
	* src/jpilot.c: use conv_codeset_strdup() instead of
	  conv_sjistodisp().

2005-01-26

	* src/compose.c
	  src/folder.c
	  src/prefs.c
	  src/codeconv.[ch]
	  src/imap.c
	  src/xml.c
	  src/addrbook.c
	  src/addrindex.c: added constant C_INTERNAL and CS_INTERNAL which
	  replace conv_get_internal_charset_str().

2005-01-25

	* src/inc.c: inc_finished(): removed warning when updating a
	  folder item while no folder is selected.

2005-01-25

	* src/gtkutils.[ch]: gtkut_get_default_font_desc(): returns default
	  font_desc.
	* src/prefs_common.[ch]
	  src/defs.h: removed unused font configs.
	* src/textview.c: use default font for headers.
	* src/headerview.c
	  src/folderview.c: generate bold font from normal font.
	* src/summaryview.c: generate bold and small font from normal font.

2005-01-24

	* src/alertpanel.c: alertpanel_create(): generate title font from
	  normal font.

2005-01-24

	* src/pop.c: pop3_get_uidl_table(): removed the old code for
	  migration.
	* src/main.c: migrate_old_config(): also migrate sylpheedrc, and
	  check the existence of source files.
	* src/prefs_common.c: changed the font setting name for migration.
	* src/defs.h: added UIDL_DIR, and changed the default font.

2005-01-24

	* src/compose.c
	  src/addressbook.c
	  src/messageview.c
	  src/mimeview.c
	  src/select-keys.c
	  src/sigstatus.c: use GTK stock button for button set.
	* src/passphrase.c: improved the passphrase dialog.

2005-01-24

	* src/alertpanel.c: use GTK stock icon instead of pixmap.
	* src/pixmaps/stock_dialog_*_48.xpm: removed.

2005-01-24

	* src/grouplistdialog.c: replaced fnmatch() with g_pattern_match_*().

2005-01-24

	* src/prefs_display_header.c
	  src/action.c
	  src/grouplistdialog.c
	  src/textview.c
	  src/editbook.c
	  src/editgroup.c
	  src/importldif.c
	  src/summary_search.c
	  src/message_search.c
	  src/select-keys.c
	  src/editjpilot.c
	  src/export.c
	  src/editaddress.c
	  src/addressadd.c
	  src/editldap_basedn.c
	  src/prefs_summary_column.c
	  src/import.c
	  src/prefs_filter_edit.c
	  src/editvcard.c
	  src/prefs_customheader.c
	  src/editldap.c
	  src/sigstatus.c: use GTK stock button for button set.

2005-01-24

	* src/compose.c
	  src/inc.c
	  src/prefs_actions.c
	  src/prefs.c
	  src/progressdialog.c
	  src/account.c
	  src/prefs_template.c
	  src/foldersel.c
	  src/main.c
	  src/alertpanel.c
	  src/inputdialog.c
	  src/prefs_common.c
	  src/summaryview.c
	  src/about.c
	  src/mainwindow.c
	  src/prefs_filter.c: use GTK stock button for button set.
	* src/gtkutils.[ch]: gtkut_stock_button_set_create(): added.

2005-01-21

	* src/gtkshruler.c: use PangoLayout instead of GdkFont (thanks to
	  Alfons).

2005-01-21

	* src/colorlabel.c: removed include of gdk/gdkx.h.
	* src/compose.c: compose_connect_changed_callbacks(): fixed a typo.
	* src/codeconv.[ch]: added conv_utf8todisp().
	* src/sourcewindow.c: source_window_append()
	  src/textview.c: textview_write_line(), textview_write_link()
	  src/unmime.c: unmime_header()
	  src/html.c: html_read_line(): assume the encoding of source
	  string is UTF-8 instead of locale encoding.

2005-01-20

	* src/codeconv.[ch]: conv_copy_dir(): copy directory contents with
	  code conversion.
	* src/main.c: migrate_old_config(): migrate templates.

2005-01-20

	* src/action.c: convert locale strings to UTF-8 before displaying
	  it (thanks to Alfons).

2005-01-20

	* src/statusbar.c
	  src/summaryview.c
	  src/setup.c
	  src/folderview.c
	  src/mainwindow.[ch]: restored the resize grip of the main
	  statusbar with its proper position (thanks to Yoichi Imai).

2005-01-20

	* src/jpilot.c: fixed Japanese code conversion.

2005-01-19

	* src/compose.c: compose_insert_sig(): fixed broken signature
	  replacement.

2005-01-19

	* src/mh.c
	  src/utils.c
	  src/procmsg.c: ignore 0-numbered message file. Don't use symbol
	  'fileno' used in stdio.h.
	* src/messageview.c: messageview_show(): check if
	  procmsg_msginfo_get_full_info() succeeds (fixes crash when
	  opening 0-numbered message) (thanks to WAKAI Kazunao).

2005-01-19

	* src/summaryview.c: summary_reply(): fixed a bug that didn't
	  correctly get text selection.

2005-01-12

	* Ported to GTK+-2.4 (based on Ashie's sylpheed-gtk2).
