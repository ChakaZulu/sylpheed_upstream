2006-09-13

	* libsylph/utils.c
	  libsylph/procmime.c: fflush() stream before rewind() to ensure
	  error checking.
	  procmime_get_part_fp(): check the return value of
	  procmime_decode_content().

2006-09-13

	* libsylph/procmsg.c: procmsg_read_cache(): fixed crash when reading
	  a corrupted cache data.
	* libsylph/session.c: session_read_data_as_file_cb(): fflush buffer
	  and check error before rewind().

2006-09-13

	* libsylph/procmime.c: procmime_decode_content(): fflush temporary
	  file and check errors.

2006-09-12

	* src/importldif.c: change cancel button to close when import
	  finished.
	* src/ldif.c: ldif_get_line(): refactored.
	  ldif_read_file(): fixed a memory leak.

2006-09-12

	* libsylph/codeconv.c
	  src/compose.c: made workaround for UTF-8 with BOM.

2006-09-12

	* src/ldif.[ch]: supported base64 encoded entries.
	  Supported "mozillaNickname" entry.
	  Use cn for display name if exists.
	  Reverse first and last name on Japanese locale.

2006-09-06

	* src/messageview.c
	  src/summaryview.c
	  src/mainwindow.c: unify menu strings "View/Message source" and
	  "View/All headers".

2006-09-06

	* libsylph/procmsg.h: MsgInfo
	  src/compose.h: AttachInfo: don't use off_t because its size may
	  change between compile time.

2006-09-06

	* libsylph/socket.c: retry waitpid() when it is interrupted
	  (thanks to Stefaan).

2006-09-06

	* src/action.c: free_children(): wait for processes when they still
	  exist.
	  Kill/wait child pid instead of pgid (thanks to Stefaan A Eeckels).

2006-09-06

	* src/eggtrayicon.[ch]: updated eggtrayicon source, and added icon
	  transparency (thanks to Fryderyk Dziarmagowski).

2006-09-04

	* src/action.c: execute_actions(): fixed wrong insertion point at
	  TextView.

2006-08-23

	* libsylph/imap.[ch]
	  src/prefs_account_dialog.c: supported PLAIN authentication on IMAP4
	  (thanks to IKEDA Soji).

2006-08-23

	* libsylph/procmsg.[ch]
	  libsylph/procmime.[ch]
	  src/textview.c
	  src/mimeview.c
	  src/rfc2015.c: added signature information to MsgInfo. Removed unused
	  member from MimeInfo.

2006-08-17

	* src/textview.c
	  src/rfc2015.c: supported verification of encrypted and signed
	  messages with combined method.
	  Show full signature information on the text view.

2006-08-16

	* src/sourcewindow.c: fixed scrolling problem on first click.

2006-08-15

	* libsylph/prefs_common.[ch]
	  src/summaryview.c: don't move to trash on manual junk filtering when
	  'Delete junk mails from server on receiving' is set.

2006-08-10

	* src/prefs_ui.[ch]
	  src/prefs_common_dialog.c: link the state of 'Open first unread
	  message when entering a folder' with 'Always open messages in
	  summary when selected'.

2006-08-09

	* src/compose.c: compose_set_ext_editor_sensitive(): also set the
	  sensitivity of '/File/Append signature'.

2006-08-09

	* libsylph/codeconv.[ch]: conv_check_file_encoding(): check the
	  encoding of text file to see if it is locale encoding or UTF-8.
	* src/compose.c: compose_insert_file(): check whole file to see if it
	  is UTF-8.

2006-08-07

	* configure.in: use onig-config.

2006-08-07

	* src/folderview.c: added separator before 'Mark all read'.

2006-08-04

	* src/sylpheed.rc.in
	  configure.in: added version information.

2006-08-04

	* src/sylpheed.rc.in
	  src/Makefile.am
	  configure.in: generate sylpheed.rc from sylpheed.rc.in.

2006-08-03

	* configure.in: fixed a bug that $LIBS was not properly restored
	  when OpenSSL test failed (thanks to IWAMOTO Kouichi).

2006-08-03

	* libsylph/filter.c
	  src/about.c
	  src/prefs_filter_edit.c
	  configure.in: Oniguruma can be used instead of system's regex API
	  (thanks to IWAMOTO Kouichi).

2006-08-02

	* src/sumaryview.c:
	  summary_filter_func()
	  summary_filter_junk_func(): fixed a bug that flag changes were not
	  saved with manual filtering.

2006-07-31

	* version 2.2.7

2006-07-31

	* src/folderview.c: folderview_menu_popup(): enable some menu items
	  on receiving.
	* libsylph/procmsg_empty_trash(): check whether the folder is really
	  trash.

2006-07-28

	* src/rfc2015.c: sig_status_for_key(): check the error of
	  gpgme_get_key() (fixes crashes on checking signature).

2006-07-28

	* src/compose.c
	  src/messageview.c
	  src/prefs_common_dialog.c
	  src/mainwindow.c: added Windows-1257 encoding for Baltic.

2006-07-27

	* libsylph/md5_hmac.c: md5_hex_hmac(): fixed a memory leak.

2006-07-26

	* src/compose.c: compose_reply_set_entry(): use original address
	  strings instead of stripped ones. Fixed a bug that To: address
	  was duplicated in Cc: on reply-to-all.

2006-07-25

	* libsylph/prefs_common.[ch]
	  src/inc.c
	  src/prefs_common_dialog.c: added an option to filter junk mails
	  before normal filtering.

2006-07-24

	* src/summaryview.c: added 'Set as (not) junk mail' to the context
	  menu.

2006-07-21

	* src/summaryview.c: summary_filter_real(): fixed a bug that manual
	  junk filtering didn't work when no filter rule exist.

2006-06-27

	* po/tr.po: fixed a typo which caused crash.

2006-06-26

	* src/gtkutils.[ch]: gtkut_tree_view_fast_clear(): new.
	* src/summaryview.c: made workarounds for the crash in GTK+ 2.8.x.

2006-06-25

	* libsylph/mh.c: mh_scan_tree_recursive(): win32: improved its
	  performance.
	  Don't scan virtual folders.

2006-06-25

	* src/summaryview.c: summary_execute_move(), summary_execute_copy():
	  removed redundant folder scan.
	* libsylph/mh.c: mh_scan_folder_full(): win32: supported non-unicode
	  platforms (not tested).

2006-06-23

	* libsylph/mh.c: mh_scan_folder_full(): win32: optimized scanning of
	  directory using FindFirstFile() / FindNextFile().

2006-06-16

	* src/folderview.c: folderview_menu_popup(): enable "Mark all read"
	  only when selected folder is opened in the case of IMAP4.

2006-06-16

	* libsylph/procmsg.[ch]
	  src/folderview.c: added "Mark all read" to the folder context menu.

2006-06-09

	* version 2.2.6

2006-06-08

	* src/textview.c: textview_write_link(): remove spaces from href
	  (fixes execution failure with ShellExecute() on Win32 and URI check).

2006-06-04

	* src/send_message.c: send_message_smtp(): added missing timeout
	  handling (thanks to Colin).

2006-06-01

	* libsylph/imap.c: support 8-bit literal (literal8) defined in RFC
	  3516.

2006-05-29

	* version 2.2.5

2006-05-26

	* libsylph/pop.c: pop3_lookup_next(): increment
	  Pop3Session::cur_total_bytes too when deleting expired messages.

2006-05-26

	* src/foldersel.c: fixed a bug that bold face was disabled with
	  GLib 2.10 and Pango 1.12.

2006-05-17

	* src/main.c: fixed execution failure when using accessibility module.
	* libsylph/codeconv.c: conv_sjistojis(): fixed character corruption
	  and buffer overflow when using half-width kana.

2006-05-09

	* src/summaryview.c: don't decrease new/unread count if zero.

2006-03-29

	* version 2.2.4

2006-03-27

	* src/prefs_common_dialog.c: made "RFC 2231" not translatable.

2006-03-27

	* libsylph/utils.[ch]: subst_control(): new.
	* libsylph/procheader.c: procheader_parse_stream(): remove control
	  characters from headers.
	* src/folderview.c
	  src/summaryview.c: fixed a bug that bold face was disabled with
	  GLib 2.10 and Pango 1.12.

2006-03-24

	* src/summaryview.[ch]: added the clear button for quick search entry.

2006-03-24

	* src/prefs_common_dialog.c: prefs_keybind_apply_clicked(): fixed
	  "/View/Show all headers" menu string (thanks to Kyosuke Takayama).

2006-03-17

	* src/prefs_ui.[ch]
	  src/prefs_common_dialog.[ch]: added the option for MIME filename
	  encoding method.

2006-03-17

	* libsylph/utils.[ch]
	  libsylph/prefs_common.[ch]
	  libsylph/procmime.c
	  libsylph/codeconv.[ch]
	  src/compose.c: implemented RFC 2231 filename encoding on send.

2006-03-16

	* libsylph/procmime.c: implemented RFC 2231 parameter value extension.

2006-03-14

	* libsylph/mh.c: mh_scan_tree_recursive(): allow Unix path separator
	  when comparing path on Win32 (fixes duplicated subfolders when
	  rebuilding folder tree on Win32 while settings were shared between
	  Win32 and Unix).

2006-03-14

	* version 2.2.3

2006-03-10

	* src/icons/sylpheed.ico: made background transparent.

2006-03-10

	* src/query_search.c: enabled sorting of the result.

2006-03-10

	* src/editbook.c
	  src/editgroup.c
	  src/importldif.c
	  src/editjpilot.c
	  src/editaddress.c
	  src/addressadd.c
	  src/editldap_basedn.c
	  src/editvcard.c
	  src/editldap.c: modified the spacing of statusbar.

2006-03-10

	* src/addressbook.c: modified the accelerators, and the layout.

2006-03-10

	* libsylph/procmsg.[ch]
	  src/messageview.c
	  src/summaryview.c: printing messages now follows 'Show all headers'
	  status.

2006-03-09

	* libsylph/procmime.c: procmime_execute_open_file(): parse ~/.mailcap
	  if ~/.sylpheed-2.0/mailcap not found.

2006-03-09

	* libsylph/utils.[ch]
	  libsylph/prefs_common.[ch]
	  src/mimeview.c: added a hidden option "mime_command" for backward
	  compatibility.
	* libsylph/procmime.c
	  libsylph/procmsg.c
	  src/compose.c
	  src/inc.c
	  src/messageview.c
	  src/summaryview.c: use str_find_format_times().

2006-03-08

	* libsylph/procmime.c: read mailcap file other than standard location.

2006-03-08

	* libsylph/procmime.[ch]
	  src/mimeview.c: removed metamail support and replaced it with
	  the alternative implementation.
	* libsylph/prefs_common.c: leave "mime_image_viewer" and
	  "mime_audio_player" options for compatibility, but made them empty
	  by default.

2006-03-07

	* src/compose.c: compose_get_signature_str(): allow relative signature
	  path.

2006-03-06

	* src/textview.c: textview_uri_security_check(): ignore trailing path
	  separator when comparing URI.

2006-03-06

	* src/compose.[ch]
	  src/addressbook.c: always enable To, Cc, and Bcc button. Create new
	  compose window if not exist.

2006-03-06

	* libsylph/prefs_common.[ch]
	  src/addressbook.c: preserve the window position of address book.
	  Moved the position of Help menu.

2006-03-06

	* src/compose.c: compose_select_account(): enabled View/Cc menu on
	  mail accounts.

2006-03-03

	* version 2.2.2

2006-03-02

	* src/message_search.c: fixed crash after a message window was closed
	  while the search dialog was still open.

2006-03-02

	* libsylph/imap.c: imap_rename_folder_real(): fixed crash when tried
	  to move folders right under the root folder.

2006-03-01

	* src/alertpanel.c: place dialog center if it is out of range (fixes
	  main window becomes not responsive when alert dialog is shown while
	  it is minimized on win32).

2006-03-01

	* src/main.c: win32: do console initialization only once.

2006-02-28

	* src/main.c: win32: output debug and help messages to newly created
	  console.

2006-02-27

	* libsylph/utils.c: execute_async(), execute_sync(): win32: fixed
	  encoding problem (GSpawn in GLib < 2.8.2 takes codepage arguments).

2006-02-27

	* version 2.2.1

2006-02-24

	* configure.in: enabled GtkSpell by default.

2006-02-24

	* libsylph/folder.h: fixed comments.

2006-02-24

	* src/summaryview.c: performance fix when resetting the quick search
	  while sorted by thread date with descending order.
	* Makefile.am
	  sylpheed.spec.in: added README.es.

2006-02-24

	* README.es: added (thanks to Ricardo Mones).
	* README, README.ja: changed the FSF address.

2006-02-23

	* src/subscribedialog.c: ignore non-ascii newsgroup names (fixes crash
	  on Win32).

2006-02-22

	* libsylph/folder.c: folder_get_path(): use filename-safe string for
	  IMAP cache directory.
	* src/prefs_common_dialog.c: fixed a warning on compile.

2006-02-21

	* libsylph/utils.[ch]: uriencode_for_filename(): creates filename-safe
	  string by URI encode (except space).
	* libsylph/pop.c: use filename-safe string for UIDL file (might break
	  backward compatibility on Unix).

2006-02-14

	* libsylph/session.c
	  libsylph/socket.[ch]: win32: avoid blocking when reading from
	  socket.

2006-02-13

	* version 2.2.0

2006-02-10

	* sylpheed.spec.in: modified Requires:.

2006-02-09

	* src/summaryview.c
	  src/folderview.c: prohibit move/copy from/to queue folders, and
	  move/copy to virtual folders.

2006-02-09

	* version 2.2.0rc

2006-02-08

	* libsylph/codeconv.c: conv_get_fallback_for_private_encoding():
	  supported "x-sjis" encoding.

2006-02-08

	* libsylph/codeconv.c:
	  conv_get_locale_charset()
	  conv_get_locale_charset_str(): use GLib API on Win32 (fixes wrong
	  encoding returned).
	  src/rfc2015.c: sig_status_full(): use g_locale_to_utf8() for locale
	  to UTF-8 conversion.

2006-02-07

	* src/mainwindow.c: made the help window of command line options
	  singleton.

2006-02-07

	* src/tryaicon.c: trayicon_button_pressed(): force dropping of
	  obscured flag in case window is obscured by always-on-top windows.

2006-02-07

	* src/compose.c: compose_exec_ext_editor(): fixed a problem that the
	  UI was still insensitive after execution of external editor failed
	  (thanks to M.Suzuki).

2006-02-07

	* src/tryaicon.c: trayicon_button_pressed(): use gtk_widget_iconify()
	  instead of gtk_widget_hide() (fixes some problems).

2006-02-06

	* version 2.2.0beta8

2006-02-06

	* src/prefs_filter_edit.c: disabled regex match type on win32.

2006-02-06

	* libsylph/mh.c
	  libsylph/imap.c: don't reset unread flag when moving/copying
	  messages into trash.

2006-02-06

	* libsylph/mh.c: win32: fixed a bug that the contents of folders which
	  have specific Japanese characters such as 'Hyou' (which contains
	  0x5c ('\') at the second byte) at the end of its name couldn't be
	  seen.

2006-02-06

	* src/messageview.[ch]: update menu when show_all_headers state
	  changed.

2006-02-05

	* libsylph/pop.c: pop3_getrange_stat_recv(): fixed non-portable format
	  string ("%Ld" is not defined in *BSD, including Mac OS X). This
	  fixes wrong status display at receiving on *BSD systems.
	* libsylph/utils.c: to_human_readable(): disabled translation.

2006-02-03

	* src/summaryview.c: summary_row_expanded(): re-enabled workaround
	  on GTK+ 2.8.

2006-02-03

	* src/mimeview.c: mimeview_show_mime_part(): show filenames with
	  normal font.

2006-02-02

	* manual/ja/sylpheed.sgml: partially updated for 2.2.

2006-02-02

	* src/mainwindow.c: main_window_key_pressed(): handle Tab key as a
	  special case.

2006-02-02

	* src/inc.c
	  src/trayicon.c
	  src/gtkutils.[ch]
	  src/mainwindow.[ch]: don't enable trayicon action if modal window
	  exists. Present window on click if main window is obscured.

2006-02-02

	* src/mainwindow.c: added the help of command line options.

2006-02-02

	* src/mainwindow.c: main_window_key_pressed(): fixed key event
	  handling of the quick search entry.

2006-02-01

	* src/inc.c
	  src/folderview.[ch]: properly count the number of new messages on
	  local and remote mailboxes.

2006-02-01

	* libsylph/imap.c: imap_cmd_gen_recv(): trim too long lines (ex.
	  SEARCH command).

2006-02-01

	* src/mainwindow.[ch]: disable Send button if no account exist.

2006-02-01

	* libsylph/prefs_common.c: modified the default of summaryview_height.

2006-02-01

	* src/compose.c
	  src/messageview.c
	  src/mainwindow.c: disabled Actions menu on win32.

2006-01-31

	* version 2.2.0beta7

2006-01-31

	* src/compose.c
	  src/messageview.c
	  src/prefs_common_dialog.c
	  src/mainwindow.c: added Arabic encoding (thanks to Mohammed Sameer).

2006-01-31

	* src/statusbar.c
	  src/textview.c: disabled the trimming of statusbar strings.

2006-01-31

	* libsylph/prefs_common.[ch]
	  src/addressbook.c: the size of address book is now remembered.

2006-01-31

	* src/mainwindow.c: added 'Mark thread as read' menu.
	* src/summaryview.c: summary_mark_thread_as_read(): fixed leaks of
	  GtkTreePath list.

2006-01-30

	* src/summaryview.[ch]: implemented 'Mark thread as read'.

2006-01-30

	* src/summaryview.c: enabled the move/copy of the whole message in
	  collapsed threads.

2006-01-30

	* libsylph/account.[ch]
	  src/compose.c: compose_reply(): fixed a bug that automatic account
	  selection was disabled on IMAP4 folders.

2006-01-30

	* libsylph/socket.[ch]: code cleanup.

2006-01-28

	* src/main.c: win32: properly popup main window on remote command mode
	  using SetForegroundWindow().

2006-01-27

	* src/summaryview.c: summary_selection_changed(): only execute idle
	  function on button press.

2006-01-27

	* src/summaryview.c: summary_selection_changed(): display message in
	  idle function (fixes wrong drag begin state after passphrase dialog
	  appeared).

2006-01-27

	* src/passphrase.c: convert passphrase into locale encoding.

2006-01-27

	* src/gtkutils.[ch]
	  src/summaryview.c: when deleting a collapsed thread, all the
	  messages in the thread will be removed.

2006-01-27

	* src/query_search.[ch]
	  src/Makefile.am
	  src/folderview.c
	  src/mainwindow.c: renamed summary_search.[ch] to query_search.[ch].

2006-01-26

	* libsylph/prefs_common.[ch]
	  src/compose.c
	  src/prefs_common_dialog.c: removed 'Wrap before sending' option,
	  which was rather problematic.

2006-01-26

	* libsylph/socket.c
	  configure.in: supported IPv6 on Win32.

2006-01-26

	* src/textview.c
	  src/mimeview.c
	  src/summaryview.c
	  src/folderview.c: also recognize GDK_KP_* keycodes.

2006-01-25

	* version 2.2.0beta6

2006-01-25

	* libsylph/virtual.c
	  src/summary_search.c: exclude trash on recursive search.
	* src/prefs_search_folder.[ch]
	  src/folderview.c: update summary when virtual folders are modified.

2006-01-25

	* libsylph/procmsg.[ch]: procmsg_trash_messages_exist(): added.
	* src/folderview.c: folderview_menu_popup(): don't make 'Empty trash'
	  active if trashed messages don't exist.
	  src/mainwindow.c: main_window_empty_trash(): return immediately
	  when trashed messages don't exist.

2006-01-25

	* src/compose.c: 'File/Insert signature' now inserts signature into
	  current cursor position. 'File/Append signature' was added for the
	  previous behavior.

2006-01-24

	* src/summaryview.c: summary_qsearch_reset(), summary_qsearch():
	  update the sensitivity of UI.

2006-01-24

	* src/compose.c: compose_attach_parts(): force attaching of specific
	  types even if filename is unspecified.
	  src/procmime.[ch]: added MIME_VIDEO to ContentType.

2006-01-24

	* src/foldersel.c: place dialog at the center on parent window.

2006-01-24

	* src/alertpanel.c
	  src/inputdialog.c: set transient window before gtk_widget_show()
	  (fixed wrong window position).

2006-01-24

	* libsylph/account.c
	  libsylph/prefs_account.c
	  src/prefs_account_dialog.c: fixed memory leaks.
	* libsylph/imap.c: imap_session_connect(): save temporary password.
	  imap_close(): don't try to connect to server when closing.

2006-01-24

	* libsylph/procsg.c: procmsg_remove_all_cached_messages(): skip
	  virtual folders.

2006-01-23

	* libsylph/procmsg.[ch]
	  libsylph/prefs_account.[ch]
	  src/main.c
	  src/prefs_account_dialog.[ch]: implemented clearing of IMAP4 message
	  caches on exit.

2006-01-23

	* libsylph/imap.c: imap_do_copy_msgs(): fixed a bug that cache files
	  in source folder was not removed was fixed.

2006-01-20

	* src/compose.c: compose_new(): fixed filename encoding.
	* src/main.c: open_compose_new(): allow non-ascii mailto string and
	  filename.

2006-01-20

	* src/alertpanel.c
	  src/inputdialog.c
	  src/filesel.c: place dialog at the center on parent window.

2006-01-20

	* version 2.2.0beta5

2006-01-20

	* src/summaryview.c: added tooltip for search entry.

2006-01-20

	* src/prefs_search_folder.c
	  src/prefs_folder_item.c: use gtk_widget_modify_base() instead of
	  copying style. Realize window before getting style.

2006-01-19

	* src/summaryview.c: summary_qsearch_reset(), summary_qsearch(): clear
	  invalidated selection (fixes crash on quick search).

2006-01-19

	* src/trayicon.c
	  src/menu.h: fixed account selector of compose window having
	  unintended mnemonic.

2006-01-19

	* libsylph/imap.c: imap_scan_tree_recursive(): handle virtual folders
	  properly.
	* src/folderview.c: folderview_menu_popup(): prohibit new folder under
	  virtual folders.

2006-01-19

	* src/summaryview.c: summary_thread_build(), summary_unthread(): block
	  signal handlers for optimization.

2006-01-19

	* src/summaryview.[ch]: implemented quick filter.

2006-01-18

	* libsylph/filter.[ch]
	  src/prefs_filter_edit.[ch]: added filter conditions of status such
	  as 'unread', 'mark', 'color-label', and 'mime'.

2006-01-18

	* src/summaryview.c: update all_mlist on sorting to save the order.

2006-01-17

	* src/export.c
	  src/import.c: modified the window management of export / import
	  dialog.

2006-01-17

	* libsylph/prefs_common.[ch]
	  src/summaryview.[ch]
	  src/mainwindow.c: enabled toggle of the searchbar.

2006-01-17

	* src/summaryview.[ch]
	  src/mainwindow.c: implemented quick search of the summary view.

2006-01-17

	* libsylph/news.c: news_get_group_list(): show more verbose warnings.

2006-01-13

	* version 2.2.0beta4

2006-01-13

	* libsylph/prefs_common.[ch]
	  src/trayicon.c
	  src/menu.h
	  src/main.h
	  src/prefs_common_dialog.c
	  src/mainwindow.[ch]: perform show/hide on trayicon click.
	  Implemented popup menu on trayicon.

2006-01-13

	* libsylph/pop.[ch]
	  src/inc.[ch]: fixed 32-bit integer overflow where the total size of
	  messages is greater than 2GB.

2006-01-12

	* src/summaryview.c: summary_set_tree_model_from_list(): fixed a
	  memory leak where threading is off.

2006-01-12

	* libsylph/virtual.c: virtual_rename_folder(): added.
	* src/folderview.c: folderview_rename_folder_cb(): fixed renaming of
	  virtual folders.
	  folderview_move_folder_cb(): don't allow a virtual folder as parent.
	  folderview_menu_popup(): enabled rename/delete of virtual folders
	  on newsgroups.

2006-01-12

	* src/folderview.c: replace "Search messages..." with "Edit search
	  condition..." menu on virtual folder.
	  folderview_menu_popup(): code cleanup.

2006-01-12

	* src/about.[ch]
	  README
	  README.ja: updated copyright year.

2006-01-11

	* src/folderview.c: folderview_check_new(): exclude virtual folders.

2006-01-11

	* version 2.2.0beta3

2006-01-11

	* src/mainwindow.c: search_cb(): open search folder property on
	  virtual folder.

2006-01-10

	* src/prefs_search_folder.c: added name entry. Also show name in the
	  window title.

2006-01-10

	* src/textview.c: get_uri_part(): use glib functions for isgraph() and
	  ispunct(). Include some trailing punctuations as URI.

2006-01-10

	* src/summaryview.c
	  src/mainwindow.c: repositioned the "Delete" menu and added a
	  separator to prevent accidental selection.

2006-01-10

	* libsylph/virtual.c
	  libsylph/defs.h
	  src/prefs_search_folder.c: implemented the modification of search
	  folder condition.

2006-01-06

	* src/prefs_search_folder.[ch]
	  src/summary_search.[ch]
	  src/folderview.c
	  src/prefs_filter_edit.[ch]: partially implemented search folder
	  properties.

2006-01-06

	* src/folderview.c: modified the message of deleting search folder.

2006-01-06

	* src/summary_search.c: accept when name entry is activated on the
	  save dialog.
	* src/summaryview.c: summary_status_show(): use gint64 for sel_size to
	  avoid overflow on environments where sizeof(off_t) is 4.

2006-01-06

	* libsylph/virtual.c: don't compare temporary flags (fixes a bug that
	  search cache occasionally didn't work).

2006-01-06

	* src/summary_search.c
	  src/prefs_filter_edit.[ch]: prefs_filter_edit_cond_edit_to_list():
	  added for minor code cleanup.

2006-01-05

	* src/textview.c: textview_make_clickable_parts(): add http:// scheme
	  before implicit URIs begin with 'www.'.

2006-01-05

	* libsylph/virtual.c
	  src/folderview.c: fixed a bug that search folders under IMAP4 or
	  NNTP folders couldn't be removed.

2005-12-27

	* libsylph/procmsg.[ch]
	  libsylph/virtual.c: cache search result to speed up on and after
	  the second search.
	* src/summary_search.c: fixed a warning.

2005-12-26

	* version 2.2.0beta2

2005-12-26

	* libsylph/pop.[ch]: prevent duplicate retrieval after incomplete
	  session.

2005-12-26

	* src/compose.c
	  src/messageview.c
	  src/prefs_common_dialog.c
	  src/mainwindow.c: added Windows-1252 for display encoding. Removed
	  EUC-TW from the outgoing encoding of compose window.

2005-12-26

	* src/compose.c: compose_attach_parts(): don't traverse inside
	  message/rfc822 to avoid duplicated attachments.

2005-12-26

	* src/compose.c: only add modified flag when files are manually
	  attached.

2005-12-26

	* libsylph/utils.c: subst_for_filename(): added more characters to be
	  substituted (for Win32).
	  generate_mime_boundary(): replaced subst_char() with subst_chars().

2005-12-25

	* src/compose.c: compose_attach_parts(): include message/rfc822 parts.

2005-12-25

	* src/folderview.c: fixed a bug that previously selected row was
	  removed from the view instead of currently selected one when
	  deleting/renaming folders from the context menu.

2005-12-25

	* src/compose.c: compose_attach_parts(): attach all parts with
	  filenames, and don't if not (fixes failure of forwarding attachments
	  in some cases).

2005-12-22

	* version 2.2.0beta1

2005-12-22

	* src/compose.c: compose_is_itemized(): fixed enumerated lines
	  detection.

2005-12-22

	* src/summary_search.c
	  src/mainwindow.c: modified window handling.

2005-12-22

	* src/summaryview.[ch]
	  src/summary_search.c: select activated message in summary view if
	  possible.

2005-12-22

	* src/summaryview.c: summary_row_expanded(): disable workaround with
	  GTK+ 2.8.

2005-12-21

	* libsylph/procmsg.[ch]
	  src/compose.c
	  src/summaryview.[ch]: reflect flag changes on virtual folders in the
	  real ones.

2005-12-21

	* libsylph/virtual.c
	  libsylph/filter.c
	  src/summary_search.c
	  src/prefs_folder_item.c
	  src/folderview.c: show progress when opening search folder. Don't
	  allow the search of search folder. Save case-sensitive option.
	* libsylph/procmsg.h
	  src/compose.c
	  src/summaryview.c: added MSG_FLAG_CHANGED flag.

2005-12-20

	* src/compose.c: compose_is_itemized(): also check for enumerated
	  lines such as (1), (2), 3. ...

2005-12-20

	* libsylph/account.[ch]: account_address_exist(): new.
	  src/account_dialog.c
	  src/summaryview.c: look for all accounts when the option "Display
	  recipient on `From' column if sender is yourself" is enabled.
	  src/folderview.c: write account config file immediately when an
	  account is removed.

2005-12-20

	* src/summaryview.c: summary_set_row(): fixed a memory leak.

2005-12-20

	* src/folderview.[ch]: reflect display_folder_unread setting
	  immediately.

2005-12-20

	* src/filesel.c: filesel_select_file_full(): fixed preselected
	  directory with GTK+ 2.8.

2005-12-19

	* src/subscribedialog.c: popup main window when the dialog is closed.

2005-12-19

	* src/mainwindow.c: main_window_get_size(): save summary view height
	  even if window is maximized.

2005-12-19

	* libsylph/prefs_common.[ch]
	  src/mainwindow.c: remember the maximized state.

2005-12-19

	* src/summary_search.[ch]
	  src/folderview.c
	  src/mainwindow.c: removed SummaryView* from the argument of
	  summary_search(). Preset folder when saving as search folder.

2005-12-19

	* libsylph/virtual.[ch]
	  libsylph/folder.[ch]
	  libsylph/filter.[ch]
	  libsylph/Makefile.am
	  src/summary_search.[ch]
	  src/prefs_folder_item.c
	  src/summaryview.c
	  src/folderview.c
	  src/mainwindow.c
	  src/prefs_filter_edit.[ch]: implemented query search and virtual
	  folder.

2005-12-19

	* libsylph/codeconv.[ch]: support nonstandard encoding
	  "ks_c_5601-1987" (thanks to Yoo Chung).

2005-12-14

	* version 2.1.9

2005-12-14

	* libsylph/prefs_account.[ch]
	  src/inc.c
	  src/folderview.[ch]
	  src/prefs_account_dialog.c: added an option to update only INBOX on
	  checking new messages of IMAP4 accounts.

2005-12-13

	* libsylph/account.c
	  libsylph/prefs_account.[ch]
	  src/prefs_account_dialog.c: enabled custom queue folder.

2005-12-13

	* src/subscribedialog.c: fixed a bug that invisible subscribed groups
	  was removed after refresh. Assume wildcards for keywords without
	  them. Display status when receiving of newsgroups list started.

2005-12-09

	* src/foldersel.c: also select top folder on FOLDER_SEL_ALL.
	* libsylph/folder.c: folder_find_item_from_identifier(): also return
	  top folder.

2005-12-09

	* src/filter.[ch]: filter_rule_requires_full_headers(): added.
	* libsylph/procheader.[ch]: procheader_get_header_list_from_msginfo():
	  added.

2005-12-09

	* src/prefs_filter_edit.[ch]: prefs_filter_edit_cond_hbox_to_cond():
	  added an argument for case sensitivity.

2005-12-08

	* src/prefs_filter_edit.[ch]
	  src/prefs_filter.[ch]: made more functions public.

2005-12-08

	* src/prefs_filter_edit.[ch]: generalized the condition edit.

2005-12-08

	* libsylph/imap.c: imap_get_msg_list(): only update mtime when folder
	  is not opened.

2005-12-07

	* libsylph/mh.c
	  libsylph/news.c
	  libsylph/imap.c
	  libsylph/procmsg.[ch]: update caches and flags when reading message
	  list from a folder.

2005-12-06

	* src/prefs_filter_edit.[ch]: made CondHBox / ActionHBox related APIs
	  public.

2005-12-05

	* src/compose.c: compose_reply_set_entry(): enabled
	  COMPOSE_REPLY_TO_ALL for NNTP. fixed a memory leak.

2005-12-05

	* libsylph/utils.[ch]
	  libsylph/imap.c: imap_cmd_append(): send message contents all at
	  once.

2005-12-02

	* src/textview.c: textview_add_part(): modified font for signature
	  part.

2005-12-02

	* src/addrbook.c: addrbook_update_address_list(): fixed crash bug when
	  an address in a group was modified.
	* src/addrbook.c: addrbook_update_group_list()
	  src/editgroup.c: addressbook_edit_group(): fixed memory leaks.

2005-12-02

	* src/passphrase.c: gpgmegtk_passphrase_cb(): fixed blocking on win32.

2005-12-01

	* src/folderview.c: added "Update summary" to the context menu.

2005-12-01

	* libsylph/session.h
	  libsylph/smtp.h: fixed compilation failure on some environments.

2005-11-30

	* src/summaryview.[ch]: display progress on filtering.

2005-11-30

	* version 2.1.8

2005-11-29

	* libsylph/session.c: removed debug print.

2005-11-29

	* src/send_message.c: send_message_queue_all(): follow the change of
	  compose.c::compose_send().

2005-11-28

	* libsylph/prefs_common.[ch]
	  src/prefs_common_dialog.c: moved outgoing encoding option into
	  Display - Encoding tab.

2005-11-28

	* libsylph/procmime.c: procmime_decode_content(): also normalize text
	  files on win32. Also do normalization for quoted-printable part.

2005-11-28

	* libsylph/pop.c
	  libsylph/recv.c
	  src/compose.c: reverted linebreak conversion.

2005-11-25

	* src/compose.c: also canonicalize on redirect/queue.

2005-11-25

	* src/compose.c: compose_write_to_file(): always canonicalize composed
	  message.

2005-11-25

	* libsylph/procmime.c: procmime_decode_content(): uncanonicalize
	  unencoded text.

2005-11-25

	* libsylph/pop.c
	  libsylph/recv.c: don't convert CR+LF to LF.
	* libsylph/procmime.c: procmime_decode_content(): don't uncanonicalize
	  message/rfc822.

2005-11-25

	* src/imageview.c: size_allocate_cb(): don't update image view if
	  image_data doesn't exist.
	* src/mimeview.c: mimeview_change_view_type(): clear hidden view.

2005-11-25

	* libsylph/session.[ch]: session_read_data_as_file_cb(): don't write
	  to file until buffer is filled more than the half. Extended the
	  buffer size.

2005-11-25

	* libsylph/session.c: session_recv_data_as_file_idle_cb(): fixed a bug
	  that lost first part of message data.

2005-11-24

	* libsylph/procmime.c: procmime_decode_content(): win32: don't
	  uncanonicalize text files.

2005-11-24

	* libsylph/pop.c
	  libsylph/session.[ch]: implemented session_recv_data_as_file(),
	  which receives data as file stream, to reduce memory usage on POP3
	  session.

2005-11-22

	* src/compose.c
	  src/prefs_common_dialog.c: don't save filtered sent message to
	  outbox. Only enable filtering of sent messages when saving of sent
	  messages is enabled.
	* src/inc.c: inc_drop_message(): removed redundant code.

2005-11-22

	* libsylph/utils.[ch]
	  libsylph/session.[ch]
	  libsylph/smtp.[ch]
	  src/send_message.c: reduced memory usage on SMTP session.

2005-11-22

	* libsylph/imap.c: QUOTE_IF_REQUIRED(): add "[]&" to characters to be
	  quoted (for courier-imap).

2005-11-22

	* libsylph/prefs_common.[ch]
	  src/compose.c: remember the last window position.
	* src/sourcewindow.c: win32: fixed window appeared always top-left.
	  Added margin to the TextView.

2005-11-21

	* src/compose.c: compose_create(): win32: fixed window appeared always
	  top-left.

2005-11-21

	* src/compose.c:
	  compose_get_signature_str()
	  compose_insert_file(): give priority to locale to UTF-8 conversion
	  (fixes wrong Japanese conversion on some case).

2005-11-21

	* libsylph/prefs_common.[ch]: modified the order of options.

2005-11-21

	* src/prefs_ui.[ch]
	  src/prefs_common_dialog.c: reorganized the common prefs.

2005-11-18

	* version 2.1.7

2005-11-18

	* libsylph/prefs_common.[ch]
	  src/prefs_common_dialog.c: moved the position of Spell tab.

2005-11-17

	* src/compose.c: compose_set_title(): made edit mark less intrusive.

2005-11-17

	* libsylph/utils.c: set_startup_dir(): win32: always set the startup
	  directory to the same directory as the location of executable file
	  (fixes untranslated messages when launched by other apps).

2005-11-17

	* src/prefs_common_dialog.c: fixed crash when quote colors dialog was
	  closed by the window close button. Fixed window focus after closing
	  it.

2005-11-17

	* src/about.c: show GtkSpell in compiled-in features.

2005-11-17

	* configure.in: fixed wrong status report of GtkSpell.

2005-11-17

	* libsylph/prefs_common.[ch]
	  src/compose.[ch]
	  src/prefs_common_dialog.c
	  configure.in: implemented spell checking using GtkSpell
	  (thanks to Victor Ananajevsky).

2005-11-16

	* src/compose.c: compose_reply_set_entry(): don't reply to list for
	  subscribe confirmation request etc.

2005-11-16

	* src/folderview.c: folderview_search_unread_recursive(): don't show
	  '+' (unread) mark even if unread messages are in Trash.

2005-11-16

	* src/summaryview.c: fixed a bug that the selection was broken (and
	  sometimes crashed) when mark, unread, and colorlabel flags were
	  changed while the summary was sorted by the flags.

2005-11-16

	* src/compose.c: fixed compilation error if GPGME is not enabled.

2005-11-15

	* src/account_dialog.c: account_open(): popup main window if edit
	  account dialog is not present.

2005-11-15

	* src/mimeview.c: mimeview_view_file(): win32: use g_file_test() to
	  detect common executable suffix.

2005-11-14

	* libsylph/mh.c
	  libsylph/mbox.c
	  src/compose.c: always set FolderItem::mtime to 0 if the folder
	  contents changed (fixes occasional summary update failure on win32
	  and some filesystems).

2005-11-14

	* libsylph/utils.[ch]
	  src/summaryview.[ch]: use gint64 for total_size to avoid overflow
	  on environments where sizeof(off_t) is 4.

2005-11-14

	* src/textview.c: changed the shadow type to GTK_SHADOW_ETCHED_IN.
	* src/summaryview.[ch]
	  src/mainwindow.c: added separator between the summary status and
	  the header pane.

2005-11-11

	* src/compose.c: fixed separator of newsgroups (thanks to KAZUKI
	  SHIMURA).
	  compose_reedit_set_entry(): also set Newsgroups and Followup-To
	  entry.

2005-11-11

	* src/main.c: app_init(): win32: disable digit locale variable such as
	  "LANG=1041".

2005-11-11

	* src/mainwindow.c: removed the outer border.

2005-11-10

	* libsylph/prefs_common.c
	  src/prefs_common_dialog.c: don't show gpg warning on win32 by
	  default. Changed "gpg_warning" to "show_gpg_warning".

2005-11-10

	* src/rfc2015.[ch]
	  src/main.c: implemented rfc2015_disable_all() and
	  rfc2015_is_available().
	* src/compose.c: hide PGP checkboxes if PGP is not available.
	* src/logwindow.c: prohibit abort when invalid UTF-8 text is inserted.

2005-11-09

	* src/passphrase.c
	  configure.in: check the availability of mlock().
	  src/main.c: check_gpg(): check if OpenPGP protocol is available.

2005-11-09

	* src/account_dialog.c
	  src/prefs_filter.c: win32: fixed window focus problem.

2005-11-09

	* src/compose.c: allow drop of files in the whole window. Disabled
	  insertion of text by DnD.

2005-11-08

	* version 2.1.6

2005-11-08

	* src/ldif.c: ldif_get_line(): fixed buffer overflow.

2005-11-07

	* src/main.[ch]
	  src/mainwindow.c: added '--exit' command line option.

2005-11-07

	* libsylph/prefs_common.[ch]
	  src/compose.[ch]
	  src/prefs_common_dialog.c: implemented auto-save.

2005-11-07

	* src/prefs_common_dialog.c: hide options which is useless on win32.

2005-11-07

	* src/prefs_common_dialog.c: moved fallback_encoding from Advanced tab
	  to Message tab.
	* libsylph/prefs_common.[ch]: changed 'fallback_encoding' to
	  'default_encoding'.

2005-11-04

	* src/compose.c: compose_ext_editor_kill(): fixed a crash when the
	  external editor was terminated while opening confirmation dialog.

2005-11-04

	* src/prefs_common_dialog.c: prefs_junk_create(): added preset menu
	  for learning commands.
	* libsylph/prefs_common.c: made the default junk commands on win32
	  bsfilter.

2005-11-04

	* src/summaryview.c: summary_junk_func(): follow the
	  'mark_junk_as_read' setting.

2005-11-02

	* src/account_dialog.c
	  src/prefs_account_dialog.c: popup main window when account edit
	  dialog is closed.

2005-11-02

	* libsylph/prefs_common.[ch]
	  src/summaryview.c
	  src/prefs_common_dialog.c: added an option to mark filtered junk
	  mails as read (thanks to Takushi Miyoshi). Added more description.

2005-11-02

	* src/compose.c: unlink compose->exteditor_file if exist.

2005-11-02

	* src/compose.c: compose_ext_editor_kill(): stop watching of child
	  process in case something weird happened.

2005-11-02

	* src/compose.c: fixed for win32.

2005-11-02

	* src/compose.[ch]: reimplemented external editor with GSpawn and
	  GChildWatch.
	* libsylph/utils.c: execute_async(): fixed wrong argument type.

2005-11-02

	* src/prefs_common_dialog.c: moved fallback encoding setting to
	  Advanced tab.

2005-11-01

	* src/prefs_actions.c
	  src/prefs_template.c
	  src/prefs_folder_item.c
	  src/prefs_common_dialog.c
	  src/prefs_summary_column.c
	  src/prefs_account_dialog.c
	  src/prefs_filter.c: bring main window in front after dialogs are
	  closed (to avoid the focus problem on win32).

2005-11-01

	* libsylph/prefs_common.[ch]
	  libsylph/procmime.c
	  src/textview.c
	  src/prefs_common_dialog.c: added fallback encoding setting.
	  Removed multi-byte alphanumeric to ascii conversion option.

2005-11-01

	* src/icons/sylpheed.ico
	  src/icons/Makefile.am
	  src/Makefile.am
	  configure.in: win32: added program icon.

2005-10-31

	* libsylph/utils.c: execute_sync(): win32: get exit status of child
	  process by not using helper program.

2005-10-31

	* src/textview.c: textview_show_part(): fixed scroll jumping on focus.

2005-10-29

	* version 2.1.5

2005-10-27

	* libsylph/socket.c: fd_accept(): enabled on win32.

2005-10-27

	* libsylph/socket.[ch]: fd_connect_inet(), fd_open_inet(): new.
	  fd_open_unix(): set SO_REUSEADDR flag to avoid bind() error.
	* src/main.c: win32: implemented remote command using TCP socket.

2005-10-27

	* src/compose.c: add hbox into the window before creating option menu
	  (fixed initially wrong widget size).

2005-10-27

	* libsylph/procmime.c: procmime_get_mime_type_table(): win32: read
	  mime.types in startup directory.
	* mime.types: included in the source tree.

2005-10-26

	* libsylph/prefs_common.[ch]
	  src/summaryview.c
	  src/prefs_common_dialog.c: added a setting to delete filtered junk
	  mails from server.

2005-10-26

	* libsylph/utils.[ch]: address_equal(): new.
	* src/compose.c: compose_reply_set_entry(): when replying to ML post
	  that has the Reply-To set, set the ML address in To: and Reply-To
	  address in Cc: (thanks to Colin Leroy).

2005-10-26

	* libsylph/utils.c: uri_list_extract_filenames(): use GLib functions
	  to extract URIs if available.

2005-10-26

	* src/main.c: win32: convert locale string to UTF-8 when setting
	  rc dir.

2005-10-25

	* src/messageview.c
	  src/summaryview.c: display confirmation dialog instead of input
	  dialog when printing.

2005-10-25

	* libsylph/procmsg.c: fixed a typo.

2005-10-25

	* configure.in: changed zh_TW.Big5 to zh_TW.

2005-10-25

	* libsylph/utils.[ch]: execute_print_file(): added.
	* libsylph/procmsg.c: procmsg_print_message(): win32: canonicalize
	  output file, and use ShellExecute() if command is unspecified.

2005-10-25

	* libsylph/procmsg.c: procmsg_print_message(): match the output
	  headers to the message view.
	* libsylph/procheader.[ch]: procheader_get_header_array_for_display():
	  added.
	* libsylph/displayheader.[ch]: moved from src/.
	* src/textview.c: textview_show_header(): code cleanup.

2005-10-24

	* src/inputdialog.c: win32: make dialog in front on focus out.

2005-10-24

	* src/inputdialog.c: create/destroy dialog each time it is displayed.

2005-10-24

	* src/messageview.c: set the title of separated message window to
	  "(Subject) - Sylpheed".

2005-10-24

	* src/summaryview.c
	  src/mimeview.c: fixed the problem that DnD didn't work on GTK+ 2.8
	  (thanks to Victor Ananajevsky).

2005-10-21

	* src/main.c: replaced gdk_input_add() with GIOChannel.

2005-10-20

	* src/textview.c: textview_adj_value_changed(): optimized a bit.

2005-10-20

	* src/textview.c: textview_adj_value_changed(): don't move cursor
	  if selection exists.

2005-10-20

	* libsylph/filter.c: fixed execution failure if a file path includes
	  space.

2005-10-20

	* src/textview.c: fixed a problem that the view was scrolled to top
	  when it got focus.

2005-10-20

	* libsylph/utils.[ch]: set_startup_dir(), set_rc_dir(),
	  get_startup_dir(): new.
	* src/main.[ch]: removed global variable startup_dir. Instead use
	  get_startup_dir().
	  added '--configdir' option which specifies directory which stores
	  configuration files.
	* src/manual.c: win32: fixed document paths.

2005-10-18

	* version 2.1.4

2005-10-18

	* libsylph/prefs_common.c: win32: modified the default commands.

2005-10-18

	* src/prefs_filter.c: prefs_filter_open(): correct focus when msginfo
	  is specified.

2005-10-17

	* src/prefs_common_dialog.c: win32: made the default editor command
	  'notepad'.

2005-10-17

	* src/inputdialog.c: adjusted the minimum dialog size.

2005-10-17

	* libsylph/prefs_common.c: win32: fixed compilation failure.

2005-10-17

	* src/prefs_common_dialog.c: added the default browser to the option
	  of URI command.

2005-10-17

	* src/trayicon.c: handle destroy event properly (thanks to Victor
	  Ananajevsky).

2005-10-16

	* libsylph/utils.c: open_uri(): win32: use ShellExecute() to open URI.
	  libsylph/prefs_common.c
	  src/prefs_common_dialog.c: win32: made the default URI command empty
	  which means to use the default browser.

2005-10-16

	* src/mimeview.c: win32: restrict launching of executable files.

2005-10-14

	* makewin32.sh: modified the optimization flags.

2005-10-14

	* src/main.c: win32: prohibit duplicate exec using CreateMutex().

2005-10-14

	* libsylph/procmime.c
	  src/compose.c: made some warnings just debug messages.

2005-10-14

	* libsylph/codeconv.c: changed the locale charset of Japanese Windows
	  from Shift_JIS to CP932.

2005-10-13

	* libsylph/codeconv.[ch]: enhanced the support of
	  environment-dependent Japanese characters (thanks to MORIYAMA).

2005-10-13

	* src/inputdialog.c
	  src/setup.c
	  src/mainwindow.c: modified the text of mailbox setup dialog.

2005-10-13

	* libsylph/utils.[ch]
	  src/mimeview.c: win32: use ShellExecute() to launch attachments, and
	  warn on launching an executable file.

2005-10-13

	* libsylph/folder.[ch]
	  src/prefs_folder_item.c
	  src/folderview.c: enabled the property of the top folder.
	* src/prefs_common_dialog.c: modified the text of key binding dialog.

2005-10-13

	* libsylph/imap.c: imap_cmd_ok(): fixed parsing of literal data (skip
	  quotes).

2005-10-12

	* libsylph/recv.c: recv_bytes(): null-terminate the received data
	  in case it's a string.
	  libsylph/imap.c: imap_cmd_ok(): also log literal strings.

2005-10-12

	* src/alertpanel.c: win32: make dialog in front on focus out.

2005-10-12

	* src/main.c: default_log_func(): fixed prefix on G_LOG_LEVEL_WARNING.

2005-10-12

	* libsylph/imap.c: imap_cmd_ok(): fixed parsing of literal data.

2005-10-12

	* src/summaryview.c: brought back 'Create filter rule' in the context
	  menu.

2005-10-11

	* src/prefs_folder_item.c: fixed the label "Type" not aligned to right.

2005-10-11

	* libsylph/utils.[ch]
	  src/main.c: output g_log() messages to the log window and log file.
	* configure.in: disabled console window on win32.

2005-10-11

	* src/folderview.c: folderview_drag_motion_cb(): win32: reset
	  context->actions if modifier key is not pressed (fixed DnD action
	  becoming copy by default).

2005-10-10

	* libsylph/utils.c
	  libsylph/procheader.c: fixed a bug that caused crashes on receive
	  if Date: header has abnormal time.

2005-10-07

	* libsylph/recv.[ch]
	  libsylph/imap.c: imap_cmd_ok(): support literals in response
	  (fixed out of sync when literals appeared).

2005-10-06

	* libsylph/codeconv.c:
	  conv_filename_from_utf8(), conv_filename_to_utf8(): put an
	  assertion.

2005-10-06

	* libsylph/utils.c: don't define _s_tempnam() on Unix.
	* src/prefs_folder_item.c: added file system path info.

2005-10-06

	* libsylph/utils.c: get_rc_dir(): win32: use environmental variable
	  APPDATA.
	* libsylph/prefs.c: prefs_set_default()
	  src/prefs_ui.c: prefs_set_dialog_to_default(): win32: don't convert
	  the encoding of environmental variable. Expand '~' to rc dir.

2005-10-06

	* src/main.c: win32: include startup directory into %PATH% for GSpawn.

2005-10-05

	* configure.in: support SSL on win32.
	* makewin32.sh: convenient build script for win32.

2005-10-04

	* libsylph/utils.c: my_tmpfile(): use g_mkstemp() instead of
	  directly using mkstemp().
	  win32: use _wtempnam() , open() and fdopen() instead of tmpfile()
	  because it creates temporary files to the root directory.

2005-10-03

	* src/main.c: app_init(): win32: pass locale encoding directory name
	  for bindtextdomain() (fixed not-working translation on non-ascii
	  directory).

2005-10-03

	* libsylph/mh.c:
	  mh_create_tree(): create directory hierarchy for root path.
	  mh_move_folder_real(): change current directory to prevent rename
	  failure on Win32.
	  libsylph/folder.c: folder_get_path(): always return absolute path.

2005-09-30

	* libsylph/prefs_common.c: prefs_common_read_config(): Win32: set the
	  default font to "MS Gothic 12" on Japanese environment.

2005-09-29

	* version 2.1.3

2005-09-28

	* src/main.c: app_init(): make the message catalog location absolute
	  path if LOCALEDIR is relative.

2005-09-28

	* src/compose.c: compose_set_title(): only show subject.

2005-09-27

	* src/rfc2015.c: check_signature(): disabled gpgme_data_set_encoding()
	  (it somehow results in error).

2005-09-27

	* src/rfc2015.c: check_signature(): set transfer encoding for S/MIME.

2005-09-27

	* src/compose.c: display the subject line in the window title bar
	  (thanks to Thomas White).

2005-09-27

	* src/mimeview.c
	  src/rfc2015.c: verify PKCS#7 (S/MIME) signature (thanks to Thomas
	  White).
	* src/main.c: null-check engineInfo->version when displaying debug
	  information of GPGME.

2005-09-26

	* libsylph/html.c: convert character entity references to UTF-8,
	  rather than US-ASCII (thanks to Lyonel Vincent). Use UCS-4 to
	  UTF-8 conversion for numbered references.

2005-09-22

	* libsylph/utils.[ch]
	  libsylph/procmime.[ch]
	  src/mimeview.[ch]
	  src/filesel.[ch]: implemented "Save all", which saves all
	  attachments in a message.

2005-09-22

	* src/gtkutils.[ch]
	  src/summaryview.[ch]: align selected row to center when reached to
	  the edge on key operation.

2005-09-22

	* src/summaryview.c: keep selecting row after changing thread display.

2005-09-21

	* configure.in: removed mbs/wcs functions check.

2005-09-21

	* libsylph/utils.[ch]
	  src/compose.c
	  src/gtkutils.[ch]
	  src/undo.c
	  src/addr_compl.c: removed mbs/wcs functions which are no longer
	  required.

2005-09-21

	* src/account_dialog.c: don't display checkbox if 'get all' is
	  unavailable.

2005-09-21

	* src/subscribedialog.c: don't display checkbox on non-selectable
	  rows.

2005-09-20

	* libsylph/news.[ch]
	  src/subscribedialog.[ch]
	  src/Makefile.am
	  src/folderview.c: renamed grouplistdialog to subscribedialog, and
	  reimplemented with GtkTreeView.

2005-09-16

	* src/compose.c: compose_write_to_file(): don't display code
	  conversion error and line limit warning on draft mode.

2005-09-16

	* libsylph/prefs_common.[ch]
	  src/prefs_common_dialog.c
	  src/folderview.[ch]
	  src/mainwindow.c: removed the option to set the vscrollbar policy
	  of the folder view and made it GTK_POLICY_AUTOMATIC.
	  Added an option to toggle message number columns in the folder view
	  (default is off).
	  Made the 'Translate header name' option a hidden one.

2005-09-15

	* version 2.1.2

2005-09-15

	* configure.in: use ${DATADIRNAME} for $localedir if it is defined.

2005-09-15

	* libsylph/codeconv.c: conv_euctojis(): re-enabled
	  prefs_common.allow_jisx0201_kana.

2005-09-14

	* libsylph/pop.c
	  libsylph/procmime.c
	  src/gtkutils.c
	  src/mimeview.c
	  src/undo.c
	  src/headerview.c
	  src/send_message.c
	  src/summaryview.c: fixed warnings about signedness difference.

2005-09-14

	* libsylph/utils.[ch]
	  src/compose.c: normalize address fields before encoding them.

2005-09-13

	* Makefile.am
	  sylpheed.spec.in: updated files to be included in tarball.

2005-09-13

	* libsylph/*.[ch]: changed the license from GPL to LGPL.
	* LICENSE: added.

2005-09-13

	* src/summaryview.c: summary_set_row(): don't reset S_COL_TDATE
	  (fixes sorting bug when flags changed).

2005-09-13

	* COPYING: updated GPL (changed the address of FSF).
	* COPYING.LIB: added LGPL.

2005-09-13

	* libsylph/procmsg.[ch]
	  libsylph/enums.h
	  libsylph/folder.[ch]
	  src/summaryview.c
	  src/mainwindow.c: added 'View/Sort/by thread date'.

2005-09-12

	* libsylph/imap.c: changed the message number limit on COPY.
	  imap_do_copy_msgs(): update progress bar on copy.

2005-09-09

	* libsylph/imap.c: added missing translation string.

2005-09-09

	* libsylph/utils.[ch]
	  libsylph/imap.c
	  src/main.c
	  src/mainwindow.[ch]: update progress bar when executing long
	  operations.

2005-09-08

	* src/addressbook.c: addressbook_tree_button_pressed(): fixed a bug
	  that the expander of the folder tree didn't work.

2005-09-08

	* libsylph/md5_hmac.c: md5_hmac_get(): minor code cleanup.

2005-09-08

	* libsylph/md5.[ch]: replaced with public domain code in GNet.
	* libsylph/md5_hmac.[ch]: separated from md5.[ch] and rewrote.
	* libsylph/pop.c
	  libsylph/smtp.c
	  libsylph/imap.c: modified for new MD5 interface.

2005-09-08

	* configure.in: use ${datadir} instead of ${prefix}/${DATADIRNAME}.

2005-09-08

	* libsylph/mbox.[ch]: moved into libsylph.

2005-09-07

	* libsylph/imap.c: limit number of messages to be copied at a time
	  with COPY command to prevent network timeout.

2005-09-07

	* libsylph/utils.[ch]: renamed print_status() to status_print().
	* libsylph/imap.c: adjusted the frequency of UI update.
	* src/folderview.c: don't allow selection if summary is locked.

2005-09-07

	* libsylph/codeconv.c: conv_guess_ja_encoding(): also support UTF-8
	  encoding.

2005-09-06

	* libsylph/imap.c: fixed warnings of signedness difference.
	  Added UI hints.
	* libsylph/utils.[ch]
	  src/gtkutils.[ch]
	  src/main.c: added ui_update() as a function for UI hints.

2005-09-06

	* libsylph/prefs_common.[ch]
	  libsylph/prefs_account.[ch]
	  libsylph/pop.h: save GPG settings even if GPGME is disabled.

2005-09-05

	* libsylph/imap.c: show progress when executing operations which
	  takes long time.

2005-09-05

	* libsylph/account.[ch]
	  libsylph/customheader.[ch]
	  libsylph/enums.h
	  libsylph/filter.[ch]
	  libsylph/folder[ch]
	  libsylph/imap.[ch]
	  libsylph/md5.[ch]
	  libsylph/mh.[ch]
	  libsylph/news.[ch]
	  libsylph/nntp.[ch]
	  libsylph/pop.[ch]
	  libsylph/prefs_account.[ch]
	  libsylph/prefs_common.[ch]
	  libsylph/procheader.[ch]
	  libsylph/procmime.[ch]
	  libsylph/procmsg.[ch]
	  libsylph/smtp.[ch]
	  libsylph/Makefile.am: moved more modules to libsylph.

2005-09-05

	* src/messageview.c
	  src/procmsg.[ch]
	  src/filter.[ch]
	  src/summaryview.[ch]
	  src/mainwindow.c
	  src/prefs_filter.h: moved procmsg.c::procmsg_get_filter_keyword()
	  to filter.c::filter_get_keyword_from_msg().

2005-09-05

	* libsylph/utils.[ch]
	  src/inc.c
	  src/main.c
	  src/imap.c
	  src/send_message.c
	  src/news.c: made query-password function UI independent.
	  Added UI independent print status func.

2005-09-05

	* src/main.c
	  src/procmsg.[ch]
	  src/send_message.[ch]
	  src/mainwindow.c: moved procmsg.c::procmsg_send_queue() to
	  send_message.c::send_message_queue_all().

2005-09-02

	* src/html.c
	  src/session.c
	  src/unmime.c: fixed 'warning: pointer targets in assignment differ
	  in signedness'.

2005-09-02

	* src/sourcewindow.c: added missing include.
	* src/filter.[ch]
	  src/prefs_filter.[ch]
	  src/folderview.c: moved prefs_filter_rename_path() and
	  prefs_filter_delete_path() to filter.c.

2005-09-02

	* src/main.c
	  src/filter.[ch]
	  src/prefs_filter.[ch]: moved prefs_filter_read_config() to filter.c.

2005-09-02

	* libsylph/recv.[ch]: moved to libsylph.

2005-09-02

	* libsylph/html.[ch]: moved to libsylph.

2005-09-01

	* src/prefs_common.c
	  src/procmsg.c: removed unused headers.

2005-09-01

	* src/account.[ch]
	  src/account_dialog.[ch]
	  src/folderview.c
	  src/mainwindow.c
	  src/main.c: separated UI code from account.c.

2005-09-01

	* src/prefs_account.c
	  src/prefs_common.c: removed unused headers.
	* src/enums.h
	  src/prefs_common.h
	  src/summaryview.h
	  src/mainwindow.h: separated some enums to reduce dependency.

2005-09-01

	* src/customheader.[ch]
	  src/prefs_customheader.[ch]
	  src/prefs_account.c: moved customheader read/write config function
	  to customheader.c.
	* src/main.c
	  src/prefs_common.c: don't use gtkutils.h from prefs_common.c.

2005-08-31

	* libsylph/prefs.h
	  src/prefs_ui.[ch]
	  src/account.c
	  src/prefs_template.c
	  src/prefs_account.[ch]
	  src/prefs_common.[ch]
	  src/prefs_account_dialog.[ch]
	  src/prefs_common_dialog.[ch]
	  src/mainwindow.c
	  src/Makefile.am: separated UI code from prefs_common.c and
	  prefs_account.c.

2005-08-31

	* src/trayicon.c: enable compilation on MinGW.

2005-08-31

	* libsylph/prefs.[ch]: added prefs_param_table_get() and
	  prefs_param_table_destroy().
	  prefs_config_parse_one_line(): optimized by using
	  prefs_param_table_get().

2005-08-31

	* libsylph/Makefile.am
	  libsylph/base64.[ch]
	  libsylph/codeconv.[ch]
	  libsylph/defs.h
	  libsylph/prefs.[ch]
	  libsylph/quoted-printable.[ch]
	  libsylph/session.[ch]
	  libsylph/socket.[ch]
	  libsylph/ssl.[ch]
	  libsylph/stringtable.[ch]
	  libsylph/unmime.[ch]
	  libsylph/utils.[ch]
	  libsylph/uuencode.[ch]
	  libsylph/xml.[ch]: made some core modules library (libsylph).
	* src/Makefile.am: modified so that it uses libsylph.la.

2005-08-30

	* src/prefs.[ch]
	  src/prefs_ui.[ch]: separated UI code from prefs.[ch].
	* src/prefs_common.c
	  src/prefs_account.c: added casts for (GtkWidget **).

2005-08-30

	* src/main.c: code cleanup.

2005-08-29

	* src/statusbar.c
	  src/utils.[ch]: separate statusbar from utils.c.

2005-08-29

	* src/logwindow.c
	  src/utils.[ch]: separate LogWindow from utils.c.

2005-08-29

	* src/main.[ch]
	  src/xml.c
	  src/utils.[ch]: made debug_mode static variable in utils.c.

2005-08-29

	* src/compose.c: compose_write_attach(): don't encode message/*
	  parts with quoted-printable or base64 (fixes broken attachments
	  on pgp-sign).

2005-08-26

	* src/compose.c: the line space setting now applies to the compose
	  window.

2005-08-26

	* src/socket.c: use g_io_channel_shutdown() instead of deprecated
	  g_io_channel_close().
	  sock_close(): use g_io_channel_shutdown() instead of directly
	  calling close() (fixes resource leak on Win32).
	  fd_close(): call closesocket() on Win32.

2005-08-25

	* src/folderview.c: folderview_button_pressed(): expand/collapse
	  tree row on double click.

2005-08-25

	* src/addressbook.c: fixed refresh of folder contents.

2005-08-24

	* src/trayicon.[ch]
	  src/mainwindow.[ch]
	  src/inc.c: separated trayicon into another module.
	  Notify new messages with trayicon on receive.

2005-08-24

	* src/prefs.[ch]
	  src/prefs_common.c: use GtkFontButton for font setting (thanks to
	  Alfons).

2005-08-24

	* src/stock_pixmap.[ch]
	  src/summaryview.c
	  src/prefs_filter_edit.c: removed stock_pixmap_widget() (instead
	  use stock_pixbuf_widget()).

2005-08-23

	* src/folderview.c
	  src/mainwindow.c: modified the 'Empty trash' messages.

2005-08-23

	* src/eggtrayicon.[ch]: added (borrowed from Loqui svn trunk).
	* src/mainwindow.[ch]: initial implementation of the tray icon.
	* src/stock_pixmap.[ch]: added stock_pixbuf_widget_scale().

2005-08-23

	* src/textview.c: modified fonts for mime parts.

2005-08-22

	* version 2.1.1

2005-08-22

	* src/addressbook.c:
	  addressbook_tree_selected()
	  addressbook_tree_button_pressed(): fixed a bug that multiple
	  selection with Ctrl key didn't work with GTK+ 2.6.9.

2005-08-22

	* src/procmsg.c
	  src/summaryview.c: fall back to date comparison on sorting
	  (fixes random date order when sorting by subject etc.).

2005-08-19

	* src/utils.c: path_cmp(): allow both '/' and G_DIR_SEPARATOR as
	  separator.

2005-08-19

	* src/folder.c:
	  folder_item_get_identifier(): force separator to "/".
	  folder_item_get_path(): force separator to filesystem's.

2005-08-19

	* src/recv.c
	  src/imap.c: made error check more strict.

2005-08-19

	* src/socket.c: fd_write_all(): use fd_write() instead of directly
	  using write() (fixes IMAP4 on win32).

2005-08-19

	* src/pixmaps/: renamed to src/icons/.

2005-08-18

	* configure.in: made $localedir, $manualdir, and $faqdir
	  user-configurable.

2005-08-18

	* src/compose.[ch]
	  src/mainwindow.[ch]: disused GtkHandleBox which haven't worked well.
	* src/stock_pixmap.c: stock_pixbuf_gdk(): allow NULL window.

2005-08-09

	* version 2.1.0

2005-08-09

	* src/mh.c
	  src/main.c
	  src/procmime.c: fix for config dir.

2005-08-09

	* src/folder.c
	  src/main.c
	  src/utils.[ch]
	  src/defs.h: modified directories for Windows convention.

2005-08-08

	* src/mh.c
	  src/template.c
	  src/codeconv.c
	  src/main.c
	  src/utils.c
	  src/addrbook.c: use GDir instead of directly using opendir().

2005-08-08

	* src/utils.[ch]: added wrappers for C library function that take
	  pathname arguments.
	* src/*.c: use wrapper functions.

2005-08-07

	* src/defs.h: modification for Win32.
	* src/main.c: check filename encoding only on Unix.
	* src/prefs_common.c: modification for Win32.

2005-08-07

	* src/codeconv.c: some fixes for Win32.

2005-08-07

	* src/procmsg.c: procmsg_send_queue(): close queue file before
	  removing it (Win32 fix).

2005-08-05

	* src/mh.c
	  src/session.c
	  src/mbox.c: braced Unix-specific code with #ifdef G_OS_UNIX.
	* configure.in: added -lws2_32 on MinGW environment.

2005-08-05

	* src/filter.c
	  configure.in: check for regex.h and regcomp().

2005-08-05

	* src/utils.[ch]: rename_force(): force rename even if the destination
	  file already exists (on non-Unix environment).
	* src/prefs.c
	  src/main.c: use rename_force().

2005-08-05

	* src/addrcache.c
	  src/compose.c
	  src/inc.c
	  src/action.c
	  src/session.c
	  src/main.c
	  src/utils.c
	  src/send_message.c
	  src/mbox.c
	  src/about.c
	  src/socket.c
	  src/socket.h
	  configure.in: enabled compilation with MinGW.

2005-08-04

	* src/compose.c
	  src/main.c
	  src/socket.[ch]: braced Unix-specific code with #ifdef G_OS_UNIX.

2005-08-04

	* configure.in: add -mms-bitfields to CFLAGS if the target is MinGW.

2005-08-04

	* src/utils.c: replaced tolower() with g_ascii_tolower().

2005-08-04

	* src/compose.c
	  src/main.c
	  src/utils.c
	  src/procmsg.c: replaced random() with portable g_random_*().

2005-08-04

	* src/about.c: modified version display.
	* src/socket.c: added sock_init() and sock_cleanup().

2005-08-04

	* src/mh.c: use GTimer for measuring time.
	* src/inc.[ch]
	  src/recv.c
	  src/session.[ch]: replaced gettimeofday() with portable
	  g_get_current_time(). 
	* src/socket.c: corrected signedness. Replaced usleep() with
	  portable g_usleep().

2005-08-04

	* src/prefs_common.c: removed mgedit from exteditor's candidates.

2005-08-03

	* src/utils.c:
	  execute_async()
	  execute_sync(): replaced fork() + exec() with GSpawn.

2005-08-02

	* src/compose.c
	  src/textview.c
	  src/quote_fmt_parse.y
	  src/pop.c
	  src/prefs_account.c
	  src/codeconv.c
	  src/imap.c
	  src/xml.c
	  src/utils.[ch]
	  src/addr_compl.c
	  src/procmsg.c
	  src/procmime.c
	  src/quoted-printable.c: replaced incorrect locale-dependent ctype
	  functions with GLib's. Corrected signedness mismatch.
	* src/about.c: set focus to the OK button.

2005-07-29

	* version 2.0.0

2005-07-22

	* version 2.0.0rc

2005-07-21

	* src/headerview.c: headerview_create(): added spacing for vbox.

2005-07-21

	* src/mh.c: mh_get_msg_list(): force strict cache checking on Queue
	  or Draft folders (fixes cache discrepancy).

2005-07-21

	* src/imap.c:
	  imap_modified_utf7_to_utf8(): fixed modified-UTF7 to UTF-8
	  conversion when the string includes '+'.
	  imap_utf8_to_modified_utf7(): use g_ascii_isprint() instead of
	  locale-dependent isprint().
	  Fixed warnings on conversion error.

2005-07-21

	* src/prefs_folder_item.c: display path with GtkLabel.

2005-07-20

	* src/rfc2015.c: unified indent. Use g_getenv() instead of getenv().
	  Use locale-independent g_ascii_toupper() instead of toupper().

2005-07-20

	* src/main.c: remove temporary files on startup. Code cleanups.

2005-07-19

	* src/compose.c: compose_insert_drag_received_cb(): added a hack to
	  prevent duplicated insertion.

2005-07-19

	* src/compose.c: compose_get_line_break_pos(): don't break line after
	  '/' (to protect file path etc.).

2005-07-19

	* src/compose.c: don't remove drag source on GDK_ACTION_MOVE.
	  Explicitly call gtk_drag_finish().
	* src/summaryview.c
	  src/folderview.c: made GtkTargetEntry static.

2005-07-15

	* src/summaryview.c: summary_modify_threads(): select correct row
	  when sorting is enabled.

2005-07-14

	* version 2.0.0beta6

2005-07-14

	* src/menu.c
	  src/prefs.c: removed '#warning FIXME_GTK2'.

2005-07-14

	* src/prefs_common.c: made textview_cursor_visible a hidden option.

2005-07-14

	* src/procmime.c: procmime_decode_content(): don't uncanonicalize
	  files whose name is *.txt but the Content-Type is
	  application/octet-stream.

2005-07-14

	* src/filter.c
	  src/folderview.c: modify filter rules after moving folders.

2005-07-13

	* src/textview.c
	  src/mimeview.c
	  src/procmime.[ch]: made the file size of attachments more accurate,
	  and human-readable.

2005-07-13

	* src/foldersel.c: display folder names with new/unread
	  representation.

2005-07-12

	* src/compose.c: compose_get_line_break_pos(): don't break line after
	  '-' (to protect e-mail address etc.).

2005-07-12

	* src/main.c
	  src/stock_pixmap.[ch]
	  src/Makefile.am
	  src/pixmaps/stock_sylpheed.png
	  sylpheed.png
	  sylpheed-64x64.png
	  sylpheed-128x128.png: added a new app icon, and specified it as
	  a default window icon.

2005-07-12

	* src/procmsg.[ch]: procmsg_send_queue(): clear summary cache to
	  prevent cache discrepancy.

2005-07-12

	* src/filesel.c: comply with prefs_common.comply_gnome_hig option.

2005-07-12

	* src/compose.c
	  src/addressbook.c
	  src/textview.c
	  src/account.c
	  src/summaryview.c: modified several alerts, and added accelerators
	  for the buttons.

2005-07-11

	* gtkut_tree_view_scroll_to_cell(): added margin for visibility.

2005-07-11

	* src/compose.c: compose_parse_header(): use Content-Type's charset as
	  a fallback encoding of broken header strings.

2005-07-11

	* src/compose.c: don't convert encoding if inserted file is UTF-8.

2005-07-11

	* src/compose.c: fixed duplicate signature problem in re-edit or
	  after editing with external editor.

2005-07-11

	* src/textview.c: get_uri_part(): don't include characters '{', '}',
	  '[', ']' in URI characters.

2005-07-11

	* src/compose.[ch]: replaced gdk_input_*() with GIOChannel.

2005-07-08

	* version 2.0.0beta5

2005-07-08

	* src/editjpilot.c
	  src/editvcard.c: fixed a crash when cancelling file selection dialog
	  by Escape key. Made non-ascii filename selectable. Use new file
	  chooser dialog.

2005-07-08

	* src/compose.c
	  src/procmsg.[ch]: put existing window in front when trying to reedit
	  draft/queued messages which are already open.

2005-07-08

	* src/alertpanel.[ch]: alertpanel_full(): added more generic function.
	* src/compose.c
	  src/account.c
	  src/folderview.c: modified some alert dialogs.

2005-07-08

	* src/addressbook.c
	  src/alertpanel.[ch]
	  src/summaryview.c: added G_ALERTCANCEL to AlertValue, and return it
	  if cancelled.

2005-07-07

	* src/summary_search.c
	  src/message_search.c: modified the order of buttons.

2005-07-07

	* src/prefs_display_header.c
	  src/prefs_actions.c
	  src/prefs.[ch]
	  src/prefs_account.c
	  src/prefs_common.[ch]
	  src/prefs_summary_column.c
	  src/prefs_template.c
	  src/gtkutils.[ch]
	  src/foldersel.c
	  src/summary_search.c
	  src/inputdialog.c
	  src/editbook.c
	  src/editgroup.c
	  src/editjpilot.c
	  src/editaddress.c
	  src/editldap_basedn.c
	  src/editvcard.c
	  src/editldap.c: made the order of buttons comply with GNOME HIG.

2005-07-06

	* src/stock_pixmap.[ch]
	  src/sylpheed-logo.png: replaced Sylpheed logo with new one.

2005-07-06

	* src/stock_pixmap.[ch]
	  src/pixmaps/*.xpm: removed unused images.

2005-07-06

	* src/pixmaps/stock_hand-signed.png: added.
	* src/compose.c: use new icon for Signature tool button.

2005-07-05

	* src/pixmaps/Makefile.am: added BUILT_SOURCES to EXTRA_DIST for
	  'make distcheck'.

2005-07-05

	* src/stock_pixmap.[ch]
	  src/pixmaps/*.png
	  src/pixmaps/Makefile.am: replaced pixmaps icons with png images
	  (most of them are copied from gnome-icon-theme,
	  stock_mail_receive_all and stock_mail_send_queue are contributed
	  from Jean-Yves Lefort).
	* src/compose.c
	  src/mainwindow.c: use new png icons.
	* src/folderview.c: use special icon for draft folder.

2005-07-04

	* src/procmsg.c: procmsg_read_cache(): mark cache as dirty if open
	  failed.

2005-07-04

	* version 2.0.0beta4

2005-07-04

	* src/folderview.[ch]: lock button/key input while a folder is
	  loading (fixed selection becoming wrong when another folder was
	  clicked quickly).

2005-07-04

	* src/mh.c: unified move_folder and rename_folder.

2005-07-04

	* src/imap.c
	  src/folderview.c: implemented IMAP4 folder move.

2005-07-01

	* src/mh.c
	  src/folder.h
	  src/foldersel.[ch]
	  src/imap.c
	  src/news.c
	  src/folderview.[ch]
	  src/mainwindow.c: implemented folder move (currently restricted
	  inside the same MH mailbox).

2005-07-01

	* src/filter.c: fixed a bug in syncing folder path.
	* src/folderview.c: some code cleanups.

2005-06-30

	* src/summaryview.c: summary_filter_func(): reflect flag changes to
	  IMAP server.

2005-06-30

	* src/compose.c: compose_write_to_file(): check for line length limit
	  and display warning if exceeds.
	* src/utils.[ch]: check_line_length(): new.

2005-06-29

	* src/main.c: main(): check for filename encoding on the first run.

2005-06-29

	* src/utils.c: get_outgoing_rfc2822_str(): reverted the previous
	  change (RFC 2822: 3.6.1. The origination date field).

2005-06-28

	* src/utils.c: get_outgoing_rfc2822_str(): overwrite Date: header
	  with current time (corrects date of queued messages).

2005-06-28

	* src/mh.c: mh_scan_tree_recursive(): put a warning and skip if
	  G_FILENAME_ENCODING is not specified but invalid UTF-8 directory
	  name appeared.

2005-06-27

	* src/imageview.c: fixed a possible crash on the view change from
	  imageview to textview (thanks to NINOMIYA Yuuki).

2005-06-24

	* src/ssl.c: show verify result as string.

2005-06-24

	* src/utils.c:
	  is_dir_exist()
	  is_file_entry_exist()
	  dirent_is_regular_file()
	  dirent_is_directory(): use g_file_test() instead of stat().

2005-06-24

	* src/ssl.c: verify SSL certificate (thanks to Kazuhiro NISHIYAMA).

2005-06-24

	* src/utils.[ch]
	  src/rfc2015.c: use a wrapper of strftime() to suppress the warning
	  of gcc about %c.
	* src/procheader.c: removed warning about invalid date.
	* src/jpilot.c
	  src/vcard.c: use get_home_dir() instead of g_get_home_dir().

2005-06-24

	* src/prefs_common.[ch]: removed unused option 'enable_hscrollbar'.

2005-06-24

	* src/summaryview.c: removed unrequired function
	  summary_set_column_titles().

2005-06-23

	* version 2.0.0beta3

2005-06-23

	* src/foldersel.c
	  src/folderview.[ch]: expand parent folder when new one is created.

2005-06-23

	* src/textview.c: added "Compose new message" and "Open with Web
	  browser" to the context menu.

2005-06-23

	* src/folderview.[ch]: modified the way to revert selection after
	  menu popup.

2005-06-23

	* src/editldap.c: made bind password entry invisible.

2005-06-22

	* src/prefs_common.c: quote_colors_set_dialog_key_pressed(): destroy
	  dialog only if Escape key is pressed.
	* src/textview.[ch]: update colors of text tags when prefs are
	  updated.

2005-06-22

	* src/summaryview.[ch]: made summary columns reorderable by DnD.

2005-06-22

	* src/mh.c
	  src/procmsg.h
	  src/prefs_common.[ch]: disabled strict checking of caches by stat()
	  and improved the performance.
	  Added MSG_CACHED flag to MsgTmpFlags.
	  Added 'Advanced' tab to the common prefs.

2005-06-21

	* src/folderview.c: folderview_delete_folder_cb(): modified the alert
	  message on deleting folders.

2005-06-21

	* src/prefs_account.[ch]
	  src/prefs_common.[ch]
	  src/news.c: moved the option of max news articles to account prefs.

2005-06-21

	* src/compose.c: compose_reply()
	  src/prefs_account.[ch]: added an option to encrypt when replying to
	  encrypted message (thanks to Vladi Belperchinov-Shabanski).

2005-06-21

	* src/summaryview.c: summary_reply(): use currently visible textview
	  for selection reply.

2005-06-20

	* configure.in: enabled GPGME and OpenSSL support by default.
	  Use pkg-config to detect OpenSSL (thanks to Michael Schwendt).

2005-06-20

	* src/imap.c: replace embedded null characters with ' ' when parsing
	  block data (fix parse errors when embedded null characters appeared
	  in headers).
	* src/socket.[ch]: modified *_getline() so that it returns the length
	  of string including embedded null characters.
	* src/utils.[ch]: subst_null(): replaces null characters with
	  specified one.

2005-06-20

	* src/textview.c: added "Add to address book" to the context menu
	  (thanks to Tomohiro Masubuchi), and changed "Copy this link" to
	  "Copy this address" when address is clicked.
	* src/addressadd.c: addressadd_selection(): open edit person dialog
	  right after it is added.

2005-06-17

	* src/prefs.h: added macro PACK_SMALL_LABEL().
	* src/inc.c: inc_finished()
	  src/prefs_common.[ch]: added an option to execute command when new
	  messages arrived.

2005-06-16

	* version 2.0.0beta2

2005-06-16

	* src/send_message.c: send_message_local(): check exit status to
	  detect errors.

2005-06-16

	* src/procmsg.c: procmsg_empty_trash(): unset dirty flag after cleared
	  cache/mark files (fixed wrong unread count of trash folders).

2005-06-15

	* src/summaryview.[ch]
	  src/mainwindow.c: added 'Tools/Filter junk mails in folder' and
	  'Tools/Filter junk mails in selected messages'.

2005-06-15

	* src/compose.c: made 'File/Insert signature' replace current
	  signature, or add it to the bottom.

2005-06-14

	* src/textview.c: fixed slightly wrong scroll position when the
	  displayed message changed.

2005-06-14

	* src/compose.c: scroll the view to the cursor position after paste.

2005-06-14

	* src/compose.c: don't scroll when view is created.
	  compose_input_cb(): set cursor to the top when the text is replaced.

2005-06-14

	* src/compose.c: scroll the view to the cursor position after
	  inserting signatures or files.

2005-06-14

	* src/mh.c: mh_remove_msg(): fixed a bug that unintentionally set
	  FolderItem::last_num to 0 (which caused wrong unread number
	  display).

2005-06-14

	* src/summaryview.c: summary_set_colorlabel(): fixed a bug that the
	  change of color labels was not saved.

2005-06-13

	* src/prefs_common.[ch]
	  src/inc.c: integrated junk filter setting into common prefs.
	* src/filter.[ch]: added filter_rule_list_free().

2005-06-13

	* src/summaryview.c: include currently selected row on flag search
	  if message view is visible but the row is not displayed.

2005-06-13

	* src/imap.c: reacquire CAPABILITY after STARTTLS since it can be
	  changed (thanks to Tomasz).

2005-06-10

	* replaced every strcasecmp/g_strcasecmp with g_ascii_strcasecmp,
	  and strncasecmp/g_strncasecmp with g_ascii_strncasecmp
	  (fixes Turkish locale problem) (thanks to Doruk Fisek).

2005-06-10

	* src/prefs.h
	  src/prefs_common.c: unified some frames and checkboxes.

2005-06-10

	* src/summaryview.c: summary_modify_node(): really fixed the crash
	  bug (referred freed memory on sorting).

2005-06-10

	* src/summaryview.c: flush events before scrolling to selected.

2005-06-10

	* src/summaryview.c: fixed possible crash (take 2).

2005-06-10

	* src/summaryview.c: fixed possible crash when sorted by
	  From/To/Subject.

2005-06-09

	* version 2.0.0beta1

2005-06-09

	* src/gtkutils.[ch]: added gtkut_tree_view_scroll_to_cell().
	  Removed ununsed CTree functions.
	* src/summaryview.c: fixed scroll positon problem after some
	  operations.

2005-06-08

	* src/inc.c
	  src/send_message.c
	  src/progressdialog.[ch]: reimplemented progress dialog with
	  GtkTreeView. Added some APIs.

2005-06-08

	* sylpheed.spec.in: modified for the latest RPM (thanks to Paul
	  Dickson).

2005-06-08

	* src/account.c
	  src/prefs_filter.c: made some buttons stock button.

2005-06-08

	* src/summaryview.c: summary_tree_view_create(): disabled typeahead
	  find.

2005-06-07

	* src/compose.c
	  src/main.c
	  src/procmsg.[ch]
	  src/send_message.[ch]
	  src/prefs_common.[ch]
	  src/mainwindow.c: added an option to apply filter rules to sent
	  messages.

2005-06-06

	* src/mimeview.c
	  src/sourcewindow.c: don't use "destroy" signal to destroy objects.

2005-06-06

	* src/compose.c: don't use "destroy" signal to destroy Compose object
	  (fix rare crashes on discard?).

2005-06-06

	* src/summaryview.c:
	  summary_attract_by_subject()
	  summary_sort(): clear selection list when the order of the list is
	  changed.

2005-06-06

	* src/summaryview.c: summary_remove_invalid_messages(): fixed a bug
	  that it took time at O(n^2) order if all messages were selected
	  and then they were removed.

2005-06-06

	* src/compose.c
	  src/messageview.c
	  src/prefs_common.c
	  src/mainwindow.c: added Hebrew encodings.

2005-06-06

	* src/codeconv.[ch]: always enabled Japanese auto-detection if the
	  first letters of locale string is "ja".

2005-06-03

	* src/compose.c
	  src/summaryview.[ch]
	  src/folderview.c: improved the DnD. Don't copy files on
	  summary-to-folder drag, and set mime type to message/rfc822 on
	  summary-to-compose drag.

2005-06-03

	* src/prefs_common.c: prefs_junk_create(): modified the description.

2005-06-03

	* src/summaryview.c: summary_junk_func(), summary_junk(): allow
	  empty junk folder.

2005-06-02

	* src/prefs_common.c: prefs_font_select(): select current font
	  when opening the dialog.

2005-06-02

	* src/prefs_common.[ch]
	  src/mainwindow.[ch]
	  src/summaryview.[ch]: added a feature for junk mail control.

2005-06-01

	* src/summaryview.c: summary_msgid_table_create_func(): ignore invalid
	  or deleted messages.

2005-06-01

	* src/textview.c:
	  textview_search_string()
	  textview_search_string_backward(): improved sequential searches.

2005-06-01

	* src/summaryview.c: don't include the current message for
	  "View/Go to/(Prev|Next) (unread|new) message".

2005-05-31

	* src/imap.c: imap_scan_tree_recursive(): disabled scanning of folders
	  because the STATUS command costs much.

2005-05-31

	* src/summaryview.c: summary_show(): fixed a bug that caused crash
	  if FolderView::selected is NULL (thanks to Yann Grossel).
	* src/folderview.[ch]: folderview_set_opened_item(): new.

2005-05-30

	* src/manage_window.c: manage_window_focus_out(): don't reset
	  focus_window on focus-out event.
	* src/inc.c
	  src/send_message.c: call manage_window_destroy() to reset
	  focus_window before destruction of window.

2005-05-30

	* src/alertpanel.c: don't let message label take focus.
	* src/headerview.c: don't let header labels take focus.

2005-05-30

	* src/summaryview.[ch]: optimized getting the selection list.
	  Set cache as dirty when reordered to remember the current order.

2005-05-29

	* version 1.9.12

2005-05-27

	* src/compose.c: compose_entries_set(): don't interpret Bcc header
	  field (conform to RFC 2368).

2005-05-27

	* src/mh.c
	  src/compose.c
	  src/folder.[ch]
	  src/imap.c
	  src/procmsg.c
	  src/news.c
	  src/summaryview.c: added FolderItem::mark_dirty flag to determine
	  if mark file really needs to be updated.
	  Write mark file only if cache_dirty or mark_dirty flag is set.

2005-05-27

	* src/imap.c: don't destroy the previous Session object when
	  reconnecting (fixed crash when reconnection happened while scanning
	  tree).
	  imap_cmd_search(): fixed a bug that only the first response was
	  recognized (thanks to Hanno Meyer-Thurow).
	* src/procmsg.h: added MSG_IS_SIGNED() macro.

2005-05-26

	* src/main.c: app_will_exit(): cleanup tmp directory when exit.
	* src/mimeview.c: fixed DnD of non-ascii filename.
	* src/utils.[ch]: encode_uri(): new.
	* src/summaryview.[ch]: use subject as the filename of droppend
	  messages. Added .eml as the extension.

2005-05-25

	* src/textview.c: textview_write_link(): also skip non-ascii space
	  at the head of link strings (phishing check didn't work at the case).

2005-05-25

	* src/utils.c: get_command_output(): use g_spawn_command_line_sync()
	  instead of popen().

2005-05-25

	* src/send_message.c: send_message_local(): use GSpawn, and detect
	  errors.

2005-05-25

	* src/message_search.c: removed Clear button.

2005-05-24

	* src/folder.[ch]: added FolderItem::cache_dirty flag to determine
	  if cache file really needs to be updated.
	* src/mh.c
	  src/imap.c
	  src/procmsg.c
	  src/news.c: set cache_dirty flag if folder contents differ from
	  the cache file.
	* src/summaryview.c: set cache_dirty flag if folder contents changed.
	  Write cache file only if cache_dirty flag is set.

2005-05-24

	* src/compose.c: disable attach toggle button for now.

2005-05-24

	* src/compose.[ch]: added a toggle button for the attachment pane.

2005-05-24

	* src/compose.[ch]: reimplemented the attachment list with
	  GtkTreeView. Fixed attaching of locale filename.
	* src/utils.c: uri_list_extract_filenames(): properly parse URI.

2005-05-24

	* src/gtkutils.c: fixed compilation failure with GTK 2.4.

2005-05-23

	* src/summaryview.[ch]: enabled DnD to external apps.

2005-05-23

	* src/compose.[ch]: added PGP Sign/Encrypt check button on the compose
	  window.

2005-05-23

	* src/summaryview.c: summary_step(): don't use "move-cursor" signal
	  to move cursor.

2005-05-23

	* src/gtksctree.[ch]: removed.
	* src/gtkutils.c: added missing include, and removed GtkSCTree init.

2005-05-23

	* src/textview.c
	  src/mimeview.[ch]
	  src/summaryview.c
	  src/mainwindow.c: reimplemented MimeView with GtkTreeView.

2005-05-20

	* src/summaryview.c: summary_show(): fixed the selection state on
	  refresh.

2005-05-20

	* src/summaryview.c: summaryview_clear_list(): set the value of
	  vadjustment to 0.0 so that the "value-changed" signal is always
	  emitted (fixes the scroll problem on refresh).

2005-05-19

	* src/message_search.c: improved the interface and made code cleanup.

2005-05-19

	* src/summary_search.c: improved the interface and made code cleanup.

2005-05-19

	* src/summaryview.c: summary_show(): fixed a problem that no message
	  was selected after processing left marks.

2005-05-19

	* src/textview.[ch]
	  src/prefs_common.[ch]
	  src/mainwindow.c: added an option to toggle cursor in message view
	  (thanks to Godwin Stewart).

2005-05-19

	* src/summaryview.c: summary_modify_threads(): block selection_changed
	  callback while modifying threads so that the toolbar doesn't
	  become insensitive unexpectedly.

2005-05-18

	* src/summaryview.c: set minimum column width.
	  src/folderview.c: set minimum column width. Remember every column
	  width.

2005-05-18

	* src/summaryview.c: display next messages after deleting when
	  immediate_exec is enabled.

2005-05-17

	* version 1.9.11

2005-05-17

	* src/summaryview.c: summary_remove_invalid_messages(): adjusted
	  selection and message display on execution.
	  summary_get_modified_node(): fixed an order problem.

2005-05-17

	* src/summaryview.c: summary_row_expanded(): made a workaround for
	  last-row expand problem.

2005-05-16

	* src/summaryview.c: summary_selection_changed(): forgot to unset
	  SummaryView::selected on empty selection.

2005-05-16

	* src/summaryview.c: fixed selection problem after execution.
	* src/gtkutils.c: gtkut_tree_model_find_by_column_data(): also compare
	  start node.

2005-05-15

	* src/summaryview.c: summary_button_pressed(): fixed a bug that
	  prohibited column resize.

2005-05-15

	* src/summaryview.c: summary_key_pressed(): fixed a bug that Return,
	  Space and Delete key are ignored when multiple messages were
	  selected.
	* src/headerview.c: added missing gtk/gtkimage.h include.

2005-05-13

	* version 1.9.10

2005-05-13

	* src/prefs_common.[ch]
	  src/summaryview.c: made rules hint configurable. Removed debug code.
	* src/gtkutils.c: gtkut_tree_row_reference_equal(): return FALSE if
	  one of the reference is invalid.

2005-05-13

	* src/summaryview.c: don't open selected messages on 'View/Go to'
	  if the message view is hidden.

2005-05-13

	* src/summaryview.c: modified the handling of middle-click and
	  double-click.

2005-05-13

	* src/summaryview.c: adjusted the width of icon-titled columns.

2005-05-12

	* src/summaryview.c: summary_attract_by_subject()
	  src/mainwindow.c: main_window_set_menu_sensitive(): disable 'Attract
	  by subject' if sorted.

2005-05-12

	* src/summaryview.c: summary_attract_by_subject(): optimized using
	  gtk_tree_store_reorder() (gtk_tree_store_move_after() is too slow).

2005-05-12

	* src/summaryview.c: display collapsed rows which have unread children
	  as bold.

2005-05-11

	* src/summaryview.c: summary_have_unread_children(): implemented.
	  summary_row_expanded(): expand all children.
	  summary_thread_build(): added missing g_hash_table_destroy().

2005-05-11

	* src/summaryview.c
	  src/mainwindow.c: summary_thread_build(): implemented.

2005-05-11

	* src/utils.c: remove_dir_recursive(): fixed operation failure if
	  current directory is inside one which is to be removed.
	* src/summaryview.c: summary_unthread(): implemented.
	* src/folderview.c: fixed crash when FolderView::selected became
	  invalid. Unset it if selection becomes empty.
	* src/defs.h: changed DEFAULT_MESSAHE_FONT from "Sans 14" to
	  "Monospace 12".

2005-05-10

	* src/summaryview.c: summary_select_thread(): implemented.

2005-05-10

	* src/summary_search.c: reimplemented summary search.

2005-05-10

	* src/summaryview.c:
	  summary_show(): display selected message if always_show_msg is set.
	  summary_button_pressed(): fixed the handling of modifier key.
	  summary_selection_changed(): clear message view if not single
	  selection.

2005-05-10

	* src/summaryview.c
	  src/gtkutils.[ch]: fixed compilation failure on GTK+ 2.4
	  (GTK+ 2.4 doesn't provide the way to unset the sort setting).

2005-05-09

	* src/editjpilot.c
	  src/editldap_basedn.c
	  src/editldap.c: added missing includes.

2005-05-09

	* src/compose.c
	  src/inc.c
	  src/addressbook.c
	  src/textview.c
	  src/messageview.c
	  src/editbook.c
	  src/editgroup.c
	  src/importldif.c
	  src/foldersel.c
	  src/mimeview.c
	  src/message_search.c
	  src/main.c
	  src/inputdialog.c
	  src/editaddress.c
	  src/addressadd.c
	  src/import.c
	  src/about.c
	  src/mainwindow.c
	  src/editvcard.c: added missing includes.
	* src/gtkutils.[ch]: added utility functions for GtkTreeView.
	* src/stock_pixmap.[ch]: stock_pixbuf_widget(): new.
	* src/folderview.c: modified for column sizing.
	* src/summaryview.[ch]
	  src/prefs_summary_column.c: reimplemented with GtkTreeView
	  (some features are not completed yet).

2005-05-06

	* src/socket.c: sock_connect_address_list_async(): only watch
	  G_IO_OUT to prevent a rare connection problem (thanks to Thorsten
	  Maerz).

2005-05-02

	* src/prefs_filter_edit.c: prefs_filter_edit_set_cond_hbox_widgets():
	  display unit on AGE condition.

2005-04-27

	* src/imageview.c: imageview_get_resized_pixbuf(): don't scale images
	  if not required (just increase ref count).

2005-04-27

	* src/mainwindow.c: main_window_create(): disable no longer required
	  workaround for resize grip on GTK+ 2.6.

2005-04-22

	* src/imap.c: imap_auth(): prefer CRAM-MD5 if authentication type is
	  automatic. Don't use LOGIN if CAPABILITY has LOGINDISABLED.

2005-04-22

	* src/folderview.c: folderview_selection_changed(): flush widget to
	  reflect selection change before showing summary.

2005-04-22

	* sylpheed.desktop: changed the encoding to UTF-8 (thanks to Daichi
	  Kawahata).

2005-04-22

	* src/folderview.c:
	  folderview_rescan_tree()
	  folderview_check_new(): refresh widgets before processing.

2005-04-20

	* src/gtkutils.[ch]: gtkut_widget_draw_now(): use
	  gdk_window_process_updates() to force update of widgets.
	  Removed gtkut_widget_wait_for_draw() which had a big overhead
	  because of waiting for all events processed.
	* src/statusbar.c
	  src/summaryview.c
	  src/setup.c
	  src/folderview.c
	  src/mainwindow.c: use gtkut_widget_draw_now(). Improved performance
	  of the update of statusbar.

2005-04-20

	* src/textview.c: textview_smooth_scroll_do(): redraw it after scroll
	  is done (fixed incorrect display when a part of the view is hidden).

2005-04-19

	* version 1.9.9

2005-04-19

	* sylpheed.desktop: added French translation (thanks to Nicolas Boos).

2005-04-19

	* src/session.[ch]: use separate buffer for large data to be sent,
	  and don't duplicate it (reduces memory usage) (thanks to Dirk).

2005-04-19

	* src/compose.c
	  src/prefs_common.c: removed '/Edit/Advanced' menu which had been
	  provided for old GtkSText, and had interfered with gtk-key-theme
	  configuration.

2005-04-15

	* src/folderview.c: folderview_create(): check GTK version for
	  "ellipsize" property.

2005-04-13

	* src/folderview.c: modified include.
	  folderview_col_resized(): fixed argument type.

2005-04-13

	* src/imap.c: imap_close(): don't do anything if item->path is NULL.
	* src/folderview.c: removed unused GtkStyle.
	  folderview_select_row(): don't expand the row itself.
	  folderview_selection_changed(): fixed a memory leak.

2005-04-13

	* src/rfc2015.c: pgp_sign(): fixed missing brackets. Check if
	  result->signatures is not NULL (fix crashes when ~/.gnupg doesn't
	  exist).
	* src/sigstatus.c: gpgmegtk_sig_status_to_string(): check if signature
	  is not NULL.

2005-04-12

	* version 1.9.8

2005-04-12

	* src/folderview.c
	  src/gtkutils.[ch]: remember the column width, and restored Search
	  menu.

2005-04-12

	* src/compose.c
	  src/messageview.c
	  src/codeconv.[ch]
	  src/prefs_common.c
	  src/mainwindow.c: support GBK encoding. Fallback to GBK if "X-GBK"
	  is passed (thanks to SuperMMX).

2005-04-12

	* src/compose.c: compose_write_to_file(): don't encode clearsigned
	  text.

2005-04-11

	* src/action.c: catch_output(): correctly select the insert text
	  (fix invalid iterator warnings).

2005-04-11

	* src/gtkutils.[ch]
	  src/folderview.[ch]: implemented message-to-folder DnD.
	  Auto-expand and auto-scroll are also implemented.

2005-04-08

	* src/folderview.c: folderview_check_new(): fixed infinite loop bug.
	  folderview_new_news_group_cb(): fixed crash bug when subscribing.
	* src/summaryview.c: summary_show(): update FolderView::opened before
	  folderview_update_opened_msg_num() is called.

2005-04-07

	* src/folderview.c: folderview_selection_changed(): don't let
	  GtkTreeView::gtk_tree_view_button_press() grab focus after opening
	  a folder by button press.

2005-04-07

	* src/folderview.[ch]: reimplemented folder view with GtkTreeView
	  (DnD is not implemented yet).
	* src/folder.[ch]: folder_item_compare(): compare function to sort
	  FolderItem.
	* src/gtkutils.[ch]:
	  gtkut_tree_model_next()
	  gtkut_tree_model_find_by_column_data()
	  gtkut_tree_view_find_collapsed_parent(): new.
	* src/pixmaps/dir-noselect.xpm
	  src/pixmaps/dir-open.xpm
	  src/pixmaps/dir-close.xpm: removed extra spaces.

2005-04-05

	* src/send_messages.c: send_message_smtp(): consider EOF right after
	  QUIT successful (workaround for Gmail SMTP server).
	* src/socket.c: ssl_read(), ssl_peek(): check EOF which violates the
	  SSL protocol.
	* src/procheader.c: removed an unused variable.

2005-04-01

	* configure.in: changed -traditional-cpp to -no-cpp-precomp for newer
	  Mac OS X support.

2005-03-31

	* src/account.c: reimplemented edit account dialog using GtkTreeView.

2005-03-31

	* src/colorlabel.c: removed warnings when displaying colorlabel menu
	  (don't use GtkAlignment).
	* src/prefs_filter_edit.c: stabilized displaying of widgets.
	* src/gtkutils.[ch]: gtkut_scrolled_window_reset_position(): reset
	  the adjustments to (0, 0).

2005-03-31

	* src/foldersel.c
	  src/prefs_filter.c: made column resize automatically.

2005-03-31

	* src/smtp.c: smtp_auth_plain(): fixed a bug that extra '\0' was
	  included in the auth string and PLAIN authentication failed
	  (thanks to IWAMOTO Kouichi).

2005-03-31

	* src/prefs_filter.c: reimplemented filter prefs dialog using
	  GtkTreeView.

2005-03-29

	* src/compose.c: don't join (presumably) itemized lines on
	  line-wrapping.

2005-03-29

	* version 1.9.7

2005-03-29

	* src/procmsg.c: procmsg_get_thread_tree(): look for indirect parent
	  only the second loop for accurate threading.
	* src/procheader.c: procheader_parse_stream(): made In-Reply-To take
	  priority of References for MsgInfo::inreplyto.

2005-03-28

	* src/utils.[ch]: references_list_prepend(): new.
	* src/procmsg.[ch]
	  src/procheader.c
	  src/summaryview.c: modified the thread creation so that it looks up
	  every message-id in References header if the real parent message is
	  not found (thanks to Alfons).
	* src/defs.h: upped the cache version.

2005-03-28

	* src/foldersel.c: reimplemented folder selection dialog using
	  GtkTreeView (thanks to Alfons).
	* src/stock_pixmap.[ch]: stock_pixbuf_gdk(): new. It generates
	  GdkPixbuf object from xpm.

2005-03-25

	* src/compose.c: compose_parse_header(): ignore empty Reply-To: and
	  Followup-To: header (thanks to Alfons).

2005-03-23

	* src/compose.c:
	  compose_write_to_file()
	  compose_write_headers(): separate header charset and body charset.
	  Fixed the issue that ISO-8859-1 was forced for headers when body
	  is US-ASCII only.

2005-03-23

	* src/codeconv.c: conv_jistoeuc(): fixed buffer overflow when
	  auxiliary Kanji appeared (only affects svn version after
	  2005-03-17).

2005-03-22

	* src/codeconv.[ch]: return error value in every code conversion
	  function.

2005-03-18

	* src/html.[ch]: html_parse(): made return value const.
	* src/textview.c: textview_show_html(): force output of newline.
	* src/procmime.c: procmime_get_text_content(): follow the API change.

2005-03-18

	* src/account.c: account_find_from_message_file(): added missing
	  NULL terminator of the HeaderEntry array which had introduced
	  crash on re-edit (thanks to Michael Schwendt).

2005-03-17

	* src/utils.c: strncpy2(): optimized based on Alfons' code.

2005-03-17

	* src/codeconv.[ch]
	  src/textview.c
	  src/unmime.c
	  src/procheader.c
	  src/sourcewindow.c
	  src/rfc2015.c
	  src/html.c: made every code conversion API allocate new memory.
	  This removes redundant string copy on conversion.

2005-03-16

	* src/prefs_common.[ch]
	  src/textview.c: added an option whether to render HTML as text or
	  not.

2005-03-16

	* src/filesel.c: remember the state of the expander of file save
	  dialog.

2005-03-16

	* src/compose.[ch]: added a menu to temporally change the outgoing
	  encoding. Use UTF-8 also for headers if it is forced for body.
	* src/codeconv.[ch]:
	  conv_get_outgoing_charset_str(): don't use prefs_common setting.
	  conv_encode_header(): added an argument for outgoing encoding.
	* src/prefs_common.c: added separators to outgoing encoding menu.
	* src/messageview.c
	  src/mainwindow.c: changed 'Code set' (which is rather incorrect)
	  in the menu to 'Character encoding'.

2005-03-15

	* version 1.9.6

2005-03-15

	* src/action.c: create_io_dialog(): use user-defined text font
	  (thanks to Alfons), and modified its appearance.

2005-03-15

	* src/compose.c: compose_write_to_file(): fixed a memory leak.

2005-03-14

	* src/compose.c: compose_write_to_file(): do a strict check for code
	  conversion.
	* src/codeconv.[ch]:
	  conv_codeset_strdup_full()
	  conv_iconv_strdup()
	  conv_iconv_strdup_with_cd(): added an argument to return an error
	  value.

2005-03-14

	* src/smtp.[ch]
	  src/prefs_account.c: implemented PLAIN authentication method
	  (thanks to mori).

2005-03-14

	* src/filesel.c:
	  filesel_select_file_full(): remember directories for each operations.
	  filesel_create(): set default response.
	* src/textview.c: textview_key_pressed()
	  src/mimeview.c: mimeview_key_pressed(): move focus to upper view
	  if Esc key is pressed.
	* Thanks to Sergey Pinaev for the above.

2005-03-11

	* src/compose.[ch]: use GtkTextTag for signature replacement to
	  stabilize it.

2005-03-10

	* src/textview.c: implemented 'Save this image as...' in the context
	  menu of inline images.
	* src/procmime.c: procmime_get_part_file_name(): new.

2005-03-10

	* src/mainwindow.c: main_window_set_widgets(): request size first
	  to prevent window size becoming wrong.
	* src/utils.c: debug_print(): use g_print() to output with locale
	  encoding.

2005-03-10

	* src/passphrase.c: partially fixed grab input of passphrase dialog.
	  Confine pointer to window.

2005-03-09

	* src/compose.c: fixed wrapping of quote when auto-wrapping is
	  enabled.

2005-03-09

	* src/mainwindow.c: fixed remembering of the state of the visibility
	  of MessageView.

2005-03-09

	* src/compose.c: compose_attach_cb(): enabled multiple file selection.
	* src/main.c: migrate_old_config(): copy also mime.types.
	* src/filesel.[ch]: filesel_select_files(): returns multiple selected
	  files.

2005-03-08

	* src/imageview.[ch]: imageview_get_resized_pixbuf(): new.
	  src/textview.c: textview_add_part(): follow the setting of
	  prefs_common.resize_image.
	* src/configure.in
	  src/about.c
	  src/mimeview.c: removed enable-gdk-pixbuf option since gdk-pixbuf
	  is now built-in.

2005-03-08

	* src/messageview.[ch]
	  src/mimeview.[ch]: changed the implementation of switching
	  Text/MIME view (enables smooth switching).

2005-03-08

	* src/textview.c: textview_make_clickable_parts(): optimized the
	  URI search (fixes freeze at extremely long lines with many '@').
	* src/gtkutils.[ch]: gtkut_text_buffer_insert_with_tag_by_name():
	  new. Force linebreak of long lines (> 8190 chars) to prevent the
	  slowdown of GtkTextView.

2005-03-07

	* src/mainwindow.c
	  src/mimeview.[ch]: save selected attachments if mimeview has focus
	  when 'File/Save as...' is selected.
	  Made mimeview_save_as() public.

2005-03-07

	* version 1.9.5

2005-03-07

	* src/codeconv.c: conv_unmime_header(): use fixed size of buffer.
	* src/procheader.c: procheader_scan_date_string(): support header
	  like: "[Tue,] 01 Feb 2005 09:57[:00]".

2005-03-04

	* src/unmime.[ch]: use GString for a buffer for header MIME decoding
	  to improve the efficiency.
	* src/codeconv.c: conv_unmime_header(): directly return the return
	  value of unmime_header(). Restrict the buffer size on the stack.

2005-03-04

	* src/codeconv.[ch]: removed conv_unmime_header_overwrite() because
	  it had introduced heap buffer overflow.
	  conv_unmime_header(): modified so that it returns newly-allocated
	  string.
	* src/compose.c: compose_parse_header(): don't use
	  conv_unmime_header_overwrite() which introduced buffer overflow.
	* src/procheader.c
	  src/news.c
	  src/procmime.c: followed the API change.

2005-03-03

	* use Content-Type's charset as a fallback encoding of broken header
	  strings (thanks to Sergey Pinaev).
	* src/textview.c: use Content-Type's charset information and
	  force-charset setting when displaying headers.
	* src/codeconv.c: conv_iconv_strdup(): convert even if src and dest
	  are identical, or dest is US-ASCII.
	  conv_unmime_header(): try to convert with default encoding if
	  string is not ascii.
	* src/procheader.[ch]:
	  procheader_get_header_array()
	  procheader_get_header_array_asis(): added an argument for default
	  encoding.
	  procheader_parse_stream(): use Content-Type's charset information.
	* src/procmime.[ch]: added procmime_scan_content_type_str() which
	  returns parameters of Content-Type header.
	* src/unmime.[ch]: removed unused function prototype.

2005-03-02

	* version 1.9.4

2005-03-02

	* src/compose.c: compose_destroy(): destroy paned only if it's not
	  attached to window. Fixed memory leak of popup menu.

2005-03-02

	* src/sigstatus.c: modified the popup dialog. Fixed warning when
	  pressing escape key. Fixed indentation of the source.

2005-03-02

	* src/main.c: removed redundant code.
	* configure.in: removed redundant PKG_CHECK_MODULES.
	  use PKG_CONFIG instead of GLIB_CONFIG which is no longer available
	  (fixes LDAP compilation).

2005-03-01

	* configure.in: check for GLib/GTK version (>= 2.4.0).

2005-03-01

	* src/gtkutils.[ch]: removed non-used code.

2005-03-01

	* src/mimeview.[ch]: display action buttons when attached files are
	  selected.
	  Fixed the handling of key press and popup menu.
	  Fixed redraw problem of widget pane.
	* src/summaryview.[ch]: minor code cleanup.
	* src/mainwindow.c: prev_cb(), next_cb(): handle mimeview if it has
	  focus.
	* src/filesel.c: change current directory before creating dialog
	  (fixed performance problem on folders with large number of
	  message).
	* src/textview.[ch]: removed unused functions.

2005-03-01

	* ac/check-type.m4
	  ac/gnupg-check-typedef.m4: fixed a warning of the newer automake
	  (thanks to Daichi Kawahata).

2005-02-28

	* src/compose.c: compose_parse_header(): generate References: from
	  In-Reply-To: even if the parent message doesn't have Message-Id:
	  (thanks to mori).

2005-02-28

	* src/procheader.[ch]: fixed the argument type of buffer length
	  (thanks to Alfons).

2005-02-27

	* src/socket.c: sock_add_watch(): fixed a bug that g_io_add_watch()
	  was called even on SSL connection. It has introduced random bugs.

2005-02-25

	* src/messageview.c: messageview_select_all(), reply_cb(): fixed
	  selection bugs.

2005-02-25

	* src/compose.c
	  src/textview.c
	  src/quote_fmt_parse.y: follow the API changes.
	* src/procmsg.c: procmsg_print_message(): output text with locale
	  encoding.
	* src/procmime.[ch]:
	  procmime_get_text_content()
	  procmime_get_first_text_content(): added an argument for dest
	  encoding.
	* src/codeconv.[ch]: conv_code_converter_new(): added an argument for
	  dest encoding.
	* src/html.c: removed broken locale specific entity reference
	  conversion.

2005-02-25

	* src/compose.c
	  src/messageview.c
	  src/mimeview.c
	  src/export.c
	  src/summaryview.c
	  src/import.c
	  src/filesel.[ch]: replaced GtkFileSelection with
	  GtkFileChooserDialog.
	  Added filesel_save_as().

2005-02-24

	* src/alertpanel.c: modified its design to fit other GTK2 apps.

2005-02-24

	* src/progressdialog.c
	  src/inc.c: inc_progress_dialog_create(): modified ProgressDialog
	  to use GtkDialog.

2005-02-24

	* src/compose.c: compose_write_attach(): force transfer encoding to
	  protect trailing spaces for PGP signing.

2005-02-23

	* src/gtkutils.[ch]: removed unused functions.
	  gtkut_text_buffer_match_string()
	  gtkut_text_buffer_find(): changed the API to use iterator.
	  gtkut_text_buffer_find_backward(): new.
	* src/textview.c:
	  textview_search_string()
	  textview_search_string_backward(): use new API.

2005-02-23

	* src/logwindow.c
	  src/prefs_common.[ch]: re-enabled the line number limit, and made
	  the value configurable.

2005-02-22

	* src/codeconv.c:
	  conv_anytodisp(): check if converted string is valid UTF-8.
	  conv_localetodisp(): convert to valid UTF-8 if conv_iconv_strdup()
	  failed.
	  conv_unmime_header_overwrite()
	  conv_unmime_header(): try to convert unencoded strings using locale
	  encoding (thanks to Egor Yu. Shkerin and Oliver Lehmann).

2005-02-21

	* version 1.9.3

2005-02-21

	* src/compose.c:
	  compose_join_next_line(): consider tab width. Keep cursor position
	  as much as possible.
	  compose_wrap_paragraph(): remove trailing spaces on wrapping.
	  compose_insert_sig(): don't select text when placing cursor.
	  compose_insert_file(): disable autowrap while inserting text.
	  compose_undo_cb()
	  compose_redo_cb(): disable autowrap while performing undo/redo.

2005-02-21

	* src/summaryview.c: summary_ctree_create(): changed indent size to
	  12.

2005-02-18

	* src/textview.c: added 'Copy this link' to the context menu
	  (thanks to Hiroyuki Ikezoe).
	* po/Makefile.in.in: added checks and statistics display option to
	  msgfmt command.

2005-02-18

	* src/compose.c: compose_join_next_line(): removed extra spaces
	  between the next line.

2005-02-18

	* src/compose.c: compose_wrap_paragraph(): comply with 'Wrap
	  quotation' setting.

2005-02-18

	* src/textview.c: fixed glitches of underlined URI in textview
	  (thanks to Alfons).

2005-02-18

	* src/compose.c: compose_join_next_line(): don't use
	  gtk_text_buffer_backspace() which is gtk-2.6 only API.

2005-02-17

	* src/compose.c: implemented new line-wrapping routine. Enables full
	  i18n support and proper line-breaking.
	* src/utils.[ch]: get_uri_len(): returns URI length.

2005-02-16

	* src/procmime.c: procmime_get_tmp_file_name(): convert filename
	  to filesystem encoding.

2005-02-14

	* src/intl.h: removed.

2005-02-10

	* src/compose.c: compose_write_file(): force transfer encoding to
	  protect trailing spaces for PGP signing (fixes incompatibility
	  between gnupg 1.2 and 1.4) (thanks to Thorsten Maerz).

2005-02-10

	* src/compose.c
	  src/sourcewindow.c: automatically show horizontal scroll bar.

2005-02-09

	* version 1.9.2

2005-02-09

	* src/textview.c: implemented better hypertext processing (pointing
	  a link shows its URI and single-clicking it follows the link).

2005-02-08

	* src/codeconv.[ch]
	  conv_filename_from_utf8()
	  conv_filename_to_utf8(): new. They always returns non-NULL strings.
	* src/filesel.c
	  src/summaryview.c: fixed non-UTF8 filename handling of the file
	  selection dialog (thanks to Sergey Pinaev).
	* src/compose.c: compose_attach_cb(): fixed attaching of files with
	  non-UTF8 names (thanks to Sergey Pinaev).

2005-02-08

	* src/prefs_filter.c: use stock buttons.

2005-02-08

	* src/procmime.[ch]
	  src/textview.c
	  src/prefs_common.c: implemented inline image display.

2005-02-07

	* src/gtkutils.c: gtkut_window_popup()
	  src/about.c: about_show(): use gtk_window_present() to popup
	  window.

2005-02-07

	* src/*.c: replaced intl.h with glib/gi18n.h (thanks to Yoichi Imai).
	* configure.in
	  Makefile.am
	  po/Makefile.in.in: use AM_GLIB_GNU_GETTEXT. Removed intl/.

2005-02-04

	* src/action.c: execute_actions(): don't include header part in
	  message text.

2005-02-04

	* src/textview.c
	  src/gtkutils.[ch]: reimplemented message text search.

2005-02-04

	* src/gtkutils.[ch]: gtkut_widget_set_small_font_size(): new.
	* src/prefs_account.c
	  src/prefs_common.c: made the font size of supplementary
	  explanations smaller, and enabled line wrap.

2005-02-03

	* version 1.9.1

2005-02-03

	* src/compose.c: compose_create(): use normal API for setting font.

2005-02-02

	* src/main.c: parse_cmd_opt(): convert help message to locale
	  encoding.

2005-02-02

	* src/compose.c:
	  GET_CHAR(): speed up by using gtk_text_iter_get_char().
	  get_indent_length(): use GtkTextIter for the loop.

2005-02-02

	* src/compose.c:
	  text_inserted(): revalidate iterator so as not to invalidate it
	  after gtk_text_buffer_insert() while enabling auto wrapping.
	  Do paste-as-quotation directly inside compose_paste_as_quote_cb().

2005-02-01

	* version 1.9.0

2005-01-31

	* src/codeconv.c: conv_utf8todisp(): replace every 8bit character
	  if the source string is not a valid UTF-8.

2005-01-31

	* src/defs.h: use original ".sylpheed_cache" for CACHE_FILE.
	  changed CACHE_VERSION to 0x20.

2005-01-31

	* src/rfc2015.c: sig_status_full(): convert string returned by
	  strftime() (which is locale encoding) to UTF-8.

2005-01-31

	* configure.in
	  src/textview.c
	  src/passphrase.[ch]
	  src/mimeview.c
	  src/main.c
	  src/select-keys.[ch]
	  src/rfc2015.[ch]
	  src/sigstatus.[ch]: ported to gpgme-1.0 (thanks to Toshio Kuratomi).

2005-01-28

	* src/template.c: template_write_config(): fixed a memory leak.

2005-01-28

	* src/compose.c: removed redundant code for Ctrl-Enter handling
	  (not required for GTK2).

2005-01-27

	* src/prefs_actions.c
	  src/prefs_template.c
	  src/summary_search.c
	  src/message_search.c
	  src/folderview.c
	  src/prefs_customheader.c
	  src/prefs_filter.c: use GTK stock button for alertpanel.

2005-01-27

	* src/codeconv.c: conv_utf8toeuc(), conv_utf8tojis(): added to
	  prevent character corruption on conversion.

2005-01-26

	* src/stock_pixmap.[ch]
	  src/pixmaps/stock_add_16.xpm
	  src/pixmaps/stock_remove_16.xpm: removed two pixmaps.
	* src/prefs_filter_edit.c: use GTK stock icon for add and remove
	  button.

2005-01-26

	* src/alertpanel.c: use smaller size for title font.

2005-01-26

	* src/codeconv.[ch]: made encoding-specific functions static, and
	  removed redundant code.

2005-01-26

	* src/procmime.c:
	  procmime_scan_content_type()
	  procmime_scan_content_disposition(): removed raw ISO-2022-JP to
	  EUC-JP conversion.
	* src/jpilot.c: use conv_codeset_strdup() instead of
	  conv_sjistodisp().

2005-01-26

	* src/compose.c
	  src/folder.c
	  src/prefs.c
	  src/codeconv.[ch]
	  src/imap.c
	  src/xml.c
	  src/addrbook.c
	  src/addrindex.c: added constant C_INTERNAL and CS_INTERNAL which
	  replace conv_get_internal_charset_str().

2005-01-25

	* src/inc.c: inc_finished(): removed warning when updating a
	  folder item while no folder is selected.

2005-01-25

	* src/gtkutils.[ch]: gtkut_get_default_font_desc(): returns default
	  font_desc.
	* src/prefs_common.[ch]
	  src/defs.h: removed unused font configs.
	* src/textview.c: use default font for headers.
	* src/headerview.c
	  src/folderview.c: generate bold font from normal font.
	* src/summaryview.c: generate bold and small font from normal font.

2005-01-24

	* src/alertpanel.c: alertpanel_create(): generate title font from
	  normal font.

2005-01-24

	* src/pop.c: pop3_get_uidl_table(): removed the old code for
	  migration.
	* src/main.c: migrate_old_config(): also migrate sylpheedrc, and
	  check the existence of source files.
	* src/prefs_common.c: changed the font setting name for migration.
	* src/defs.h: added UIDL_DIR, and changed the default font.

2005-01-24

	* src/compose.c
	  src/addressbook.c
	  src/messageview.c
	  src/mimeview.c
	  src/select-keys.c
	  src/sigstatus.c: use GTK stock button for button set.
	* src/passphrase.c: improved the passphrase dialog.

2005-01-24

	* src/alertpanel.c: use GTK stock icon instead of pixmap.
	* src/pixmaps/stock_dialog_*_48.xpm: removed.

2005-01-24

	* src/grouplistdialog.c: replaced fnmatch() with g_pattern_match_*().

2005-01-24

	* src/prefs_display_header.c
	  src/action.c
	  src/grouplistdialog.c
	  src/textview.c
	  src/editbook.c
	  src/editgroup.c
	  src/importldif.c
	  src/summary_search.c
	  src/message_search.c
	  src/select-keys.c
	  src/editjpilot.c
	  src/export.c
	  src/editaddress.c
	  src/addressadd.c
	  src/editldap_basedn.c
	  src/prefs_summary_column.c
	  src/import.c
	  src/prefs_filter_edit.c
	  src/editvcard.c
	  src/prefs_customheader.c
	  src/editldap.c
	  src/sigstatus.c: use GTK stock button for button set.

2005-01-24

	* src/compose.c
	  src/inc.c
	  src/prefs_actions.c
	  src/prefs.c
	  src/progressdialog.c
	  src/account.c
	  src/prefs_template.c
	  src/foldersel.c
	  src/main.c
	  src/alertpanel.c
	  src/inputdialog.c
	  src/prefs_common.c
	  src/summaryview.c
	  src/about.c
	  src/mainwindow.c
	  src/prefs_filter.c: use GTK stock button for button set.
	* src/gtkutils.[ch]: gtkut_stock_button_set_create(): added.

2005-01-21

	* src/gtkshruler.c: use PangoLayout instead of GdkFont (thanks to
	  Alfons).

2005-01-21

	* src/colorlabel.c: removed include of gdk/gdkx.h.
	* src/compose.c: compose_connect_changed_callbacks(): fixed a typo.
	* src/codeconv.[ch]: added conv_utf8todisp().
	* src/sourcewindow.c: source_window_append()
	  src/textview.c: textview_write_line(), textview_write_link()
	  src/unmime.c: unmime_header()
	  src/html.c: html_read_line(): assume the encoding of source
	  string is UTF-8 instead of locale encoding.

2005-01-20

	* src/codeconv.[ch]: conv_copy_dir(): copy directory contents with
	  code conversion.
	* src/main.c: migrate_old_config(): migrate templates.

2005-01-20

	* src/action.c: convert locale strings to UTF-8 before displaying
	  it (thanks to Alfons).

2005-01-20

	* src/statusbar.c
	  src/summaryview.c
	  src/setup.c
	  src/folderview.c
	  src/mainwindow.[ch]: restored the resize grip of the main
	  statusbar with its proper position (thanks to Yoichi Imai).

2005-01-20

	* src/jpilot.c: fixed Japanese code conversion.

2005-01-19

	* src/compose.c: compose_insert_sig(): fixed broken signature
	  replacement.

2005-01-19

	* src/mh.c
	  src/utils.c
	  src/procmsg.c: ignore 0-numbered message file. Don't use symbol
	  'fileno' used in stdio.h.
	* src/messageview.c: messageview_show(): check if
	  procmsg_msginfo_get_full_info() succeeds (fixes crash when
	  opening 0-numbered message) (thanks to WAKAI Kazunao).

2005-01-19

	* src/summaryview.c: summary_reply(): fixed a bug that didn't
	  correctly get text selection.

2005-01-12

	* Ported to GTK+-2.4 (based on Ashie's sylpheed-gtk2).
