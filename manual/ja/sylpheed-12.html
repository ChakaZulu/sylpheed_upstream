<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.21">
 <TITLE>Sylpheed User's Manual: メッセージの振り分け</TITLE>
 <LINK HREF="sylpheed-13.html" REL=next>
 <LINK HREF="sylpheed-11.html" REL=previous>
 <LINK HREF="sylpheed.html#toc12" REL=contents>
</HEAD>
<BODY>
<A HREF="sylpheed-13.html">次のページ</A>
<A HREF="sylpheed-11.html">前のページ</A>
<A HREF="sylpheed.html#toc12">目次へ</A>
<HR>
<H2><A NAME="s12">12.</A> <A HREF="sylpheed.html#toc12">メッセージの振り分け</A></H2>

<H2><A NAME="filtering-config"></A> <A NAME="ss12.1">12.1</A> <A HREF="sylpheed.html#toc12.1">振り分けの設定</A>
</H2>

<P>メニューより、"設定＞振り分けの設定..."を選択します。</P>

<H3>フィルタルールの登録</H3>

<P>"追加"ボタンを押すとフィルタルール設定ダイアログが開きます。</P>
<P>"名前:"欄にルールに対する分かりやすい名前を入力します。</P>
<P>その下にあるドロップダウンメニューで、複数の条件がある場合にどのようにマッチさせるかを選択します。</P>
<P>上部枠内の"From"と表示されているドロップダウンメニューで、振り分けの対象にしたいヘッダやその他の条件を選択します。選択肢にないヘッダは"ヘッダを編集..."で追加することができます。</P>
<P>
<UL>
<LI>ヘッダ項目(From, To等): 対象となるヘッダを指定します。</LI>
<LI>To または Cc: To または Cc の両方を同時に指定します。</LI>
<LI>いずれかのヘッダ: すべてのヘッダが対象になります。</LI>
<LI>ヘッダを編集...: ドロップダウンメニューに表示されるヘッダの追加または削除を行います。</LI>
<LI>メッセージ本文: メッセージの本文を対象とします。</LI>
<LI>コマンドの実行結果: 外部コマンドを実行し、その戻り値によって振り分けを行います。戻り値が0であればマッチし、0以外であればマッチしません。コマンドラインの末尾にメッセージのファイル名が付加されます。リダイレクトなどのシェル機能は使用できないので、その場合はラッパースクリプトを作成する必要があります。</LI>
<LI>サイズ: メッセージファイルのサイズを指定した値と比較します。</LI>
<LI>経過日数: メッセージの送信日時から受信した日時までの経過日数を指定した値と比較します。</LI>
</UL>
</P>
<P>次に、右のドロップダウンメニューで条件をキーワードにマッチさせる方法を選択します。アルファベットの大小文字は区別しません。正規表現には拡張正規表現が使用できます。</P>
<P>
<UL>
<LI>〜が次を含む: ヘッダや本文の内容がキーワードを含む場合マッチします。</LI>
<LI>〜が次を含まない: ヘッダや本文の内容がキーワードを含まない場合マッチします。</LI>
<LI>〜が次に一致: ヘッダや本文中の1行がキーワードに一致する場合マッチします。</LI>
<LI>〜が次に一致しない: ヘッダや本文中の1行がキーワードに一致しない場合マッチします。</LI>
<LI>〜が次の正規表現にマッチ: ヘッダや本文の内容が正規表現にマッチする場合、マッチします。</LI>
<LI>〜が次の正規表現にマッチしない: ヘッダや本文の内容が正規表現にマッチしない場合、マッチします。</LI>
<LI>(サイズ)が次より大きい: サイズが指定した値より大きい場合マッチします。</LI>
<LI>(サイズ)が次より小さい: サイズが指定した値より小さい場合マッチします。</LI>
<LI>(経過日数)が次より長い: 送信日時からの経過日数が指定した値より長い場合マッチします。</LI>
<LI>(経過日数)が次より短い: 送信日時からの経過日数が指定した値より短い場合マッチします。</LI>
</UL>
</P>
<P>振り分けの対象にヘッダや本文を選択した場合は、キーワードを入力します。キーワードを空にした場合は、ヘッダが存在すれば常にマッチするようになります。
サイズや経過日数を選択した場合は、数値を入力します。</P>
<P>条件を追加したい場合は、"+"ボタンを選択すると新しい行が追加されるので、同様に上記の作業を繰り返します。また、"-"ボタンを選択するとその条件を削除することができます。</P>
<P>次に、アクションを選択します。条件と同様に任意に追加できますが、「移動」、「受信しない」、「サーバから削除」は一度しか実行できず、同時に選択することはできません。移動先やコピー先を指定する場合はフォルダアイコンのボタンで選択できます。</P>
<P>
<UL>
<LI>移動: 指定したフォルダにメッセージを移動します(以降のルールは評価されません)。</LI>
<LI>コピー: 指定したフォルダにメッセージをコピーします。何度でも実行可能です。</LI>
<LI>受信しない: メッセージをサーバに残します(以降のルールは評価されません)。</LI>
<LI>サーバから削除: 受信時にサーバにメッセージを残す設定にしていた場合でも、強制的にサーバから削除します(以降のルールは評価されません)。</LI>
<LI>マーク: マークを付けます。</LI>
<LI>カラーラベルを指定: カラーラベルを付けます。</LI>
<LI>読んだことにする: 未読マークを外します。</LI>
<LI>コマンドを実行: 任意のコマンドを実行します。末尾にメッセージのファイル名が自動的に付加されます。</LI>
<LI>ルールの評価を停止: 当該ルール以降のルールを評価しないようにします。</LI>
</UL>
</P>
<P>設定が完了したら、"OK"ボタン押すと登録が完了します。"キャンセル"を押すと設定は破棄されます。</P>
<H3>振り分けルールの例</H3>

<P>Subjectに"！ゴミ！"か"!ゴミ!"が含まれる場合にごみ箱(trash)に振り分けしたい場合を例にします。</P>
<P>まず、"次の条件のいずれかが該当する場合"を選択します。</P>
<P>そして、1つ目の条件でSubjectを選択し、"が次を含む"を選択し、キーワードに"！ゴミ！"を入力します。</P>
<P>"+"ボタンを押し、条件を追加します。</P>
<P>ヘッダは同じくSubjectを選び、キーワードに"!ゴミ!"を入力します。</P>
<P>そして、アクションで"移動"を選択し、フォルダの選択ボタンを押してごみ箱を選択します。</P>
<P>その後、"OK"ボタンを押すとルールの追加は完了します。</P>
<H3>振り分けルールの編集</H3>

<P>登録済みルールのリストから編集したいルールを選択して、"編集"ボタンを押します。</P>
<H3>振り分けルールのコピー</H3>

<P>登録済みルールのリストからコピーしたいルールを選択して、"コピー"ボタンを押します。</P>
<H3>振り分けルールの削除</H3>

<P>登録済みルールのリストから削除したいルールを選択して、"削除"ボタンを押します。</P>
<H2><A NAME="ss12.2">12.2</A> <A HREF="sylpheed.html#toc12.2">振り分けを実行するには</A>
</H2>


<H3>自動的に振り分けを実行するには</H3>

<P>自動的に振り分けを実行したいアカウントの
<A HREF="sylpheed-8.html#Account-Config">アカウントの設定</A>で、
受信タブの中にある「受信時にメッセージを振り分ける」をオンにします。</P>
<H3>開いているフォルダに振り分けを実行するには</H3>

<P>メニューの"ツール＞フォルダ中のすべてのメッセージを振り分け"または"ツール＞選択中のメッセージを振り分け"を選択することで、設定されたルールを元に振り分けが実行されます。</P>
<H3>振り分けルールの自動生成</H3>

<P>メッセージを
<A HREF="sylpheed-7.html#select-operation">選択</A>してから、
"ツール＞振り分けルールを作成"を実行することで、
ルールの雛型を自動的に作成します。</P>
<P>あとは、必要な情報を追加し、登録ボタンを押すだけです。</P>
<HR>
<A HREF="sylpheed-13.html">次のページ</A>
<A HREF="sylpheed-11.html">前のページ</A>
<A HREF="sylpheed.html#toc12">目次へ</A>
</BODY>
</HTML>
